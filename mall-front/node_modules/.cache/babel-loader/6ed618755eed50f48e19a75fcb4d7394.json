{"remainingRequest":"F:\\developer\\mall_sys\\mall-front\\node_modules\\babel-loader\\lib\\index.js!F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\developer\\mall_sys\\mall-front\\src\\components\\index\\MenuBanner.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\developer\\mall_sys\\mall-front\\src\\components\\index\\MenuBanner.vue","mtime":1615885919000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEJhbm5lciBmcm9tICIuL0Jhbm5lciI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFubmVyTWVudUZsYWc6IGZhbHNlLAogICAgICBtZW51VGltZXI6ICIiLAogICAgICBsaXN0SW5mb0RhdGE6IFtdLAogICAgICAvLyDkuIDnuqfliIbnsbsKICAgICAgbWVudXM6IFsKICAgICAgICAvLyB7CiAgICAgICAgLy8gICB2YWx1ZTogIuaJi+acuiDnlLXor53ljaEiLAogICAgICAgIC8vICAgdXJsOiAiLyMvc2VhcmNoUmVzdWx0L3MiLAogICAgICAgIC8vICAgdHlwZTogInBob25lIiwKICAgICAgICAvLyB9LAogICAgICBdLAogICAgICBiYW5uZXJzOiBbCiAgICAgICAgLy8gewogICAgICAgIC8vICAgc3JjOgogICAgICAgIC8vICAgICAiaHR0cHM6Ly9jZG4uY25iajEuZmRzLmFwaS5taS1pbWcuY29tL21pLW1hbGwvY2VmZWQ4MzM2YmFlNjI3NjhhZmVlYjZhM2I4ZjU1YzguanBnP3c9MjQ1MiZoPTkyMCIsCiAgICAgICAgLy8gICB1cmw6ICJodHRwczovL3d3dy5taS5jb20vcmVkbWlub3RlNy8iLAogICAgICAgIC8vIH0gCiAgICAgIF0sCiAgICAgIHByb2R1Y3RzOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJhbm5lck1lbnVIaWRlKCkgewogICAgICB0aGlzLm1lbnVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuYmFubmVyTWVudUZsYWcgPSBmYWxzZTsKICAgICAgfSwgMzAwKTsKICAgIH0sCiAgICBiYW5uZXJNZW51U2hvdyh0eXBlKSB7CiAgICAgIC8vMgogICAgICBpZiAodHlwZSkgewogICAgICAgIHRoaXMubGlzdEluZm9EYXRhID0gdGhpcy5wcm9kdWN0c1t0eXBlXTsKICAgICAgfQogICAgICB0aGlzLmJhbm5lck1lbnVGbGFnID0gdHJ1ZTsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubWVudVRpbWVyKTsKICAgIH0sCiAgICBpbml0KCkgewogICAgICB0aGlzLmF4aW9zLmdldCgiL2hvbWUvbWVudXNfYmFubmVyIikudGhlbihyZXMgPT4gewogICAgICAgIC8vIOWkhOeQhuexu+WeiwogICAgICAgIGxldCBob21lTWVudXNMaXN0ID0gcmVzLmhvbWVNZW51c0xpc3Q7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob21lTWVudXNMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBjYXRlID0gaG9tZU1lbnVzTGlzdFtpXTsKICAgICAgICAgIHRoaXMubWVudXMucHVzaCh7CiAgICAgICAgICAgIHZhbHVlOiBjYXRlLm5hbWUsCiAgICAgICAgICAgIHR5cGU6IGNhdGUuaWQsCiAgICAgICAgICAgIHVybDogIi8jL3NlYXJjaFJlc3VsdC8iICsgY2F0ZS5uYW1lCiAgICAgICAgICB9KTsKCiAgICAgICAgICAvLyDlpITnkIbllYblk4EKICAgICAgICAgIHRoaXMucHJvZHVjdHNbY2F0ZS5pZF0gPSBjYXRlLnByb2R1Y3RMaXN0OwogICAgICAgIH0KCiAgICAgICAgLy8gYmFubmVyCiAgICAgICAgbGV0IGhvbWVBZHZlcnRpc2VzTGlzdCA9IHJlcy5ob21lQWR2ZXJ0aXNlc0xpc3Q7CiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGhvbWVBZHZlcnRpc2VzTGlzdC5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIGNvbnN0IGFkdmVyID0gaG9tZUFkdmVydGlzZXNMaXN0W2luZGV4XTsKICAgICAgICAgIHRoaXMuYmFubmVycy5wdXNoKHsKICAgICAgICAgICAgc3JjOiBhZHZlci5waWMsCiAgICAgICAgICAgIHVybDogYWR2ZXIudXJsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8gdGhpcy5heGlvcy5nZXQoIi9ob21lL2NvbnRlbnQiKS50aGVuKChyZXMpID0+IHsKICAgICAgLy8gICB0aGlzLmJhbm5lcnMgPSByZXMuYWR2ZXJ0aXNlTGlzdDsKICAgICAgLy8gfSk7CiAgICB9CiAgfSwKCiAgLy8g55Sf5ZG95ZGo5pyf6ZKp5a2Q5Ye95pWwCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1lbnVMaXN0TWF0Y2goKSB7CiAgICAgIGNvbnN0IG1hdGNoRGF0YSA9IFtdOwogICAgICBpZiAodGhpcy5saXN0SW5mb0RhdGEgJiYgdGhpcy5saXN0SW5mb0RhdGEubGVuZ3RoKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RJbmZvRGF0YS5sZW5ndGg7IGkgKz0gNikgewogICAgICAgICAgbWF0Y2hEYXRhLnB1c2godGhpcy5saXN0SW5mb0RhdGEuc2xpY2UoaSwgaSArIDYpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG1hdGNoRGF0YTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lcjogQmFubmVyCiAgfQp9Ow=="},{"version":3,"names":["Banner","data","bannerMenuFlag","menuTimer","listInfoData","menus","banners","products","methods","bannerMenuHide","setTimeout","bannerMenuShow","type","clearTimeout","init","axios","get","then","res","homeMenusList","i","length","cate","push","value","name","id","url","productList","homeAdvertisesList","index","adver","src","pic","mounted","computed","menuListMatch","matchData","slice","components"],"sources":["src/components/index/MenuBanner.vue"],"sourcesContent":["<template>\r\n  <div class=\"menu-banner\">\r\n    <div class=\"menu-container\" @mouseleave=\"bannerMenuHide()\">\r\n      <!-- 循环所有的分类 -->\r\n      <ul class=\"menu-list\">\r\n        <li\r\n          class=\"list-item\"\r\n          v-for=\"(item, index) in menus\"\r\n          :key=\"index\"\r\n          @mouseenter=\"bannerMenuShow(item.type)\"\r\n        >\r\n          <a :href=\"item.url\" target=\"blank\">{{ item.value }}</a>\r\n          <i class=\"fa fa-angle-right\"></i>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div\r\n      class=\"menu-info\"\r\n      v-show=\"bannerMenuFlag\"\r\n      @mouseleave=\"bannerMenuHide()\"\r\n      @mouseenter=\"bannerMenuShow()\"\r\n    >\r\n      <ul\r\n        class=\"menu-info-list\"\r\n        v-for=\"(list, key) in menuListMatch\"\r\n        :key=\"key\"\r\n        :data-key=\"key\"\r\n      >\r\n        <li\r\n          class=\"info-list-item\"\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"index\"\r\n          :data-index=\"index\"\r\n        >\r\n          <a :href=\"'/#/detail/'+item.id\">\r\n            <img :src=\"item.pic\" :alt=\"item.name\" />\r\n            <span class=\"\">{{ item.name }}</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <banner :banners=\"banners\"></banner>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Banner from \"./Banner\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      bannerMenuFlag: false,\r\n      menuTimer: \"\",\r\n      listInfoData: [],   \r\n      // 一级分类\r\n      menus: [\r\n        // {\r\n        //   value: \"手机 电话卡\",\r\n        //   url: \"/#/searchResult/s\",\r\n        //   type: \"phone\",\r\n        // },\r\n      ],\r\n      banners: [\r\n        // {\r\n        //   src:\r\n        //     \"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/cefed8336bae62768afeeb6a3b8f55c8.jpg?w=2452&h=920\",\r\n        //   url: \"https://www.mi.com/redminote7/\",\r\n        // } \r\n      ],  \r\n      products:{\r\n      }\r\n    };\r\n  },\r\n  methods: { \r\n    bannerMenuHide() {\r\n      this.menuTimer = setTimeout(() => {\r\n        this.bannerMenuFlag = false;\r\n      }, 300);\r\n    },\r\n    bannerMenuShow(type) {   //2\r\n      if (type) {\r\n        this.listInfoData = this.products[type]; \r\n      }\r\n\r\n      this.bannerMenuFlag = true;\r\n      clearTimeout(this.menuTimer);\r\n    },\r\n    init() {\r\n        this.axios.get(\"/home/menus_banner\").then((res) => { \r\n          // 处理类型\r\n          let homeMenusList= res.homeMenusList;\r\n          for (let i = 0; i < homeMenusList.length; i++) {\r\n            const cate = homeMenusList[i];\r\n            this.menus.push({\r\n              value:cate.name,\r\n              type:cate.id,\r\n              url:\"/#/searchResult/\"+cate.name\r\n            });\r\n            \r\n            // 处理商品\r\n            this.products[cate.id]= cate.productList \r\n          }\r\n\r\n          // banner\r\n          let homeAdvertisesList= res.homeAdvertisesList;\r\n          for (let index = 0; index < homeAdvertisesList.length; index++) {\r\n            const adver = homeAdvertisesList[index];\r\n            this.banners.push({\r\n              src:adver.pic,\r\n              url:adver.url\r\n            })\r\n            \r\n          }\r\n          \r\n       });\r\n\r\n      // this.axios.get(\"/home/content\").then((res) => {\r\n      //   this.banners = res.advertiseList;\r\n      // });\r\n    },\r\n  },\r\n  // 生命周期钩子函数\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  computed: {\r\n    menuListMatch() {\r\n      const matchData = [];\r\n      if (this.listInfoData && this.listInfoData.length) {\r\n        for (let i = 0; i < this.listInfoData.length; i += 6) {\r\n          matchData.push(this.listInfoData.slice(i, i + 6));\r\n        }\r\n      }\r\n      return matchData;\r\n      \r\n    },\r\n  },\r\n  components: {\r\n    Banner: Banner,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.menu-banner {\r\n  position: relative;\r\n  width: 1226px;\r\n  height: auto;\r\n  margin: 0 auto;\r\n  .menu-container {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 235px;\r\n    height: auto;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    z-index: 10;\r\n  }\r\n}\r\n\r\n.menu-list {\r\n  padding: 20px 0;\r\n  height: 420px;\r\n  .list-item {\r\n    display: flex;\r\n    padding-left: 30px;\r\n    &:hover {\r\n      background-color: #ff6700;\r\n    }\r\n\r\n    a {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 170px;\r\n      height: 42px;\r\n      line-height: 42px;\r\n      color: #fff;\r\n      text-align: left;\r\n      background-color: transparent;\r\n    }\r\n\r\n    i {\r\n      font-size: 22px;\r\n      color: #e0e0e0;\r\n      line-height: 42px;\r\n    }\r\n  }\r\n}\r\n\r\n.menu-info {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: flex-start;\r\n  left: 235px;\r\n  top: 0;\r\n  z-index: 11;\r\n  border: 1px solid #e0e0e0;\r\n  box-shadow: 3px 8px 16px rgba(0, 0, 0, 0.18);\r\n  .menu-info-list {\r\n    width: 248px;\r\n    height: 458px;\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    background: #fff;\r\n    a {\r\n      display: flex;\r\n      padding: 18px 20px;\r\n      line-height: 40px;\r\n      color: #333;\r\n      img {\r\n        width: 40px;\r\n        height: 40px;\r\n        margin-right: 12px;\r\n        vertical-align: middle;\r\n      }\r\n\r\n      span {\r\n        width: 172px;\r\n        line-height: 40px;\r\n        font-size: 14px;\r\n        text-align: start;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n      }\r\n\r\n      &:hover {\r\n        span {\r\n          color: #ff6700;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"mappings":"AA8CA,OAAAA,MAAA;AAEA;EACAC,KAAA;IACA;MACAC,cAAA;MACAC,SAAA;MACAC,YAAA;MACA;MACAC,KAAA;QACA;QACA;QACA;QACA;QACA;MAAA,CACA;MACAC,OAAA;QACA;QACA;QACA;QACA;QACA;MAAA,CACA;MACAC,QAAA,GACA;IACA;EACA;EACAC,OAAA;IACAC,eAAA;MACA,KAAAN,SAAA,GAAAO,UAAA;QACA,KAAAR,cAAA;MACA;IACA;IACAS,eAAAC,IAAA;MAAA;MACA,IAAAA,IAAA;QACA,KAAAR,YAAA,QAAAG,QAAA,CAAAK,IAAA;MACA;MAEA,KAAAV,cAAA;MACAW,YAAA,MAAAV,SAAA;IACA;IACAW,KAAA;MACA,KAAAC,KAAA,CAAAC,GAAA,uBAAAC,IAAA,CAAAC,GAAA;QACA;QACA,IAAAC,aAAA,GAAAD,GAAA,CAAAC,aAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,GAAAD,aAAA,CAAAE,MAAA,EAAAD,CAAA;UACA,MAAAE,IAAA,GAAAH,aAAA,CAAAC,CAAA;UACA,KAAAf,KAAA,CAAAkB,IAAA;YACAC,KAAA,EAAAF,IAAA,CAAAG,IAAA;YACAb,IAAA,EAAAU,IAAA,CAAAI,EAAA;YACAC,GAAA,uBAAAL,IAAA,CAAAG;UACA;;UAEA;UACA,KAAAlB,QAAA,CAAAe,IAAA,CAAAI,EAAA,IAAAJ,IAAA,CAAAM,WAAA;QACA;;QAEA;QACA,IAAAC,kBAAA,GAAAX,GAAA,CAAAW,kBAAA;QACA,SAAAC,KAAA,MAAAA,KAAA,GAAAD,kBAAA,CAAAR,MAAA,EAAAS,KAAA;UACA,MAAAC,KAAA,GAAAF,kBAAA,CAAAC,KAAA;UACA,KAAAxB,OAAA,CAAAiB,IAAA;YACAS,GAAA,EAAAD,KAAA,CAAAE,GAAA;YACAN,GAAA,EAAAI,KAAA,CAAAJ;UACA;QAEA;MAEA;;MAEA;MACA;MACA;IACA;EACA;;EACA;EACAO,QAAA;IACA,KAAApB,IAAA;EACA;EACAqB,QAAA;IACAC,cAAA;MACA,MAAAC,SAAA;MACA,SAAAjC,YAAA,SAAAA,YAAA,CAAAiB,MAAA;QACA,SAAAD,CAAA,MAAAA,CAAA,QAAAhB,YAAA,CAAAiB,MAAA,EAAAD,CAAA;UACAiB,SAAA,CAAAd,IAAA,MAAAnB,YAAA,CAAAkC,KAAA,CAAAlB,CAAA,EAAAA,CAAA;QACA;MACA;MACA,OAAAiB,SAAA;IAEA;EACA;EACAE,UAAA;IACAvC,MAAA,EAAAA;EACA;AACA"}]}