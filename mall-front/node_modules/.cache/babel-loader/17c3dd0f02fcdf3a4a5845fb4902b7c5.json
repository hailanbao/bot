{"remainingRequest":"F:\\developer\\mall_sys\\mall-front\\node_modules\\babel-loader\\lib\\index.js!F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\developer\\mall_sys\\mall-front\\src\\pages\\orderList.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\developer\\mall_sys\\mall-front\\src\\pages\\orderList.vue","mtime":1617286768000},{"path":"F:\\developer\\mall_sys\\mall-front\\babel.config.js","mtime":1584857058770},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJGOi9kZXZlbG9wZXIvbWFsbF9zeXMvbWFsbC1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgX0J1dHRvbjIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYnV0dG9uLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX0J1dHRvbiBmcm9tICJlbGVtZW50LXVpL2xpYi9idXR0b24iOwppbXBvcnQgX1BhZ2luYXRpb24yIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL3BhZ2luYXRpb24uY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfUGFnaW5hdGlvbiBmcm9tICJlbGVtZW50LXVpL2xpYi9wYWdpbmF0aW9uIjsKdmFyIF9jb21wb25lbnRzOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBPcmRlckhlYWRlciBmcm9tICcuLy4uL2NvbXBvbmVudHMvT3JkZXJIZWFkZXInOwppbXBvcnQgTG9hZGluZyBmcm9tICcuLy4uL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBOb0RhdGEgZnJvbSAnLi8uLi9jb21wb25lbnRzL05vRGF0YSc7CmltcG9ydCBpbmZpbml0ZVNjcm9sbCBmcm9tICd2dWUtaW5maW5pdGUtc2Nyb2xsJzsKaW1wb3J0IFFzIGZyb20gJ3FzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdvcmRlci1saXN0JywKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7CiAgICBPcmRlckhlYWRlcjogT3JkZXJIZWFkZXIsCiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgTm9EYXRhOiBOb0RhdGEKICB9LCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9QYWdpbmF0aW9uLm5hbWUsIF9QYWdpbmF0aW9uKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfQnV0dG9uLm5hbWUsIF9CdXR0b24pLCBfY29tcG9uZW50cyksCiAgZGlyZWN0aXZlczogewogICAgaW5maW5pdGVTY3JvbGw6IGluZmluaXRlU2Nyb2xsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGxpc3Q6IFtdLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHBhZ2VOdW06IDEsCiAgICAgIHRvdGFsOiAwLAogICAgICBzaG93TmV4dFBhZ2U6IHRydWUsCiAgICAgIC8v5Yqg6L295pu05aSa77ya5piv5ZCm5pi+56S65oyJ6ZKuCiAgICAgIGJ1c3k6IGZhbHNlIC8v5rua5Yqo5Yqg6L2977yM5piv5ZCm6Kem5Y+RCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0T3JkZXJMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRPcmRlckxpc3Q6IGZ1bmN0aW9uIGdldE9yZGVyTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5idXN5ID0gdHJ1ZTsKICAgICAgdGhpcy5heGlvcy5wb3N0KCcvb3JkZXIvbGlzdC91c2VyT3JkZXInLCBRcy5zdHJpbmdpZnkoewogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0KICAgICAgfSksIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpcy5saXN0ID0gcmVzLnJlY29yZHM7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXMudG90YWw7CiAgICAgICAgX3RoaXMuc2hvd05leHRQYWdlID0gcmVzLmhhc05leHRQYWdlOwogICAgICAgIF90aGlzLmJ1c3kgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZ29QYXk6IGZ1bmN0aW9uIGdvUGF5KG9yZGVySWQpIHsKICAgICAgLy8g5LiJ56eN6Lev55Sx6Lez6L2s5pa55byPCiAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKCcvb3JkZXIvcGF5JykKICAgICAgLyp0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTonb3JkZXItcGF5JywKICAgICAgICBxdWVyeTp7CiAgICAgICAgICBvcmRlck5vCiAgICAgICAgfQogICAgICB9KSovCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL29yZGVyL3BheScsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIG9yZGVySWQ6IG9yZGVySWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOesrOS4gOenjeaWueazle+8muWIhumhteWZqAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UocGFnZU51bSkgewogICAgICB0aGlzLnBhZ2VOdW0gPSBwYWdlTnVtOwogICAgICB0aGlzLmdldE9yZGVyTGlzdCgpOwogICAgfSwKICAgIC8vIOesrOS6jOenjeaWueazle+8muWKoOi9veabtOWkmuaMiemSrgogICAgbG9hZE1vcmU6IGZ1bmN0aW9uIGxvYWRNb3JlKCkgewogICAgICB0aGlzLnBhZ2VOdW0rKzsKICAgICAgdGhpcy5nZXRPcmRlckxpc3QoKTsKICAgIH0sCiAgICAvLyDnrKzkuInnp43mlrnms5XvvJrmu5rliqjliqDovb3vvIzpgJrov4ducG3mj5Lku7blrp7njrAKICAgIHNjcm9sbE1vcmU6IGZ1bmN0aW9uIHNjcm9sbE1vcmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmJ1c3kgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIucGFnZU51bSsrOwogICAgICAgIF90aGlzMi5nZXRMaXN0KCk7CiAgICAgIH0sIDUwMCk7CiAgICB9LAogICAgLy8g5LiT6Zeo57uZc2Nyb2xsTW9yZeS9v+eUqAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuYXhpb3MuZ2V0KCcvb3JkZXJzJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgICAgcGFnZU51bTogdGhpcy5wYWdlTnVtCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMubGlzdCA9IF90aGlzMy5saXN0LmNvbmNhdChyZXMubGlzdCk7CiAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBpZiAocmVzLmhhc05leHRQYWdlKSB7CiAgICAgICAgICBfdGhpczMuYnVzeSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuYnVzeSA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["OrderHeader","Loading","NoData","infiniteScroll","Qs","name","components","_components","_defineProperty","_Pagination","_Button","directives","data","loading","list","pageSize","pageNum","total","showNextPage","busy","mounted","getOrderList","methods","_this","axios","post","stringify","headers","then","res","records","hasNextPage","catch","goPay","orderId","$router","push","path","query","handleChange","loadMore","scrollMore","_this2","setTimeout","getList","_this3","get","params","concat"],"sources":["src/pages/orderList.vue"],"sourcesContent":["<template>\n  <div class=\"order-list\">\n    <order-header title=\"订单列表\">\n      <template v-slot:tip>\n        <span>请谨防钓鱼链接或诈骗电话，了解更多></span>\n      </template>\n    </order-header>\n    <div class=\"wrapper\">\n      <div class=\"container\">\n        <div class=\"order-box\">\n          <loading v-if=\"loading\"></loading>\n          <div class=\"order\" v-for=\"(order,index) in list\" :key=\"index\">\n            <div class=\"order-title\">\n              <div class=\"item-info fl\">\n                {{order.createTime}}\n                <span></span>\n                {{order.receiverName}}\n                <span></span>\n                订单号：{{order.orderSn}}\n                <span>| 总额:</span>\n                {{order.totalAmount}}\n                <span>| 订单状态:</span>\n                <span v-if=\"order.status === 0\">\n                  待付款\n                </span>\n                 <span v-else-if=\"order.status === 1\">\n                  代发货\n                </span>\n                <span v-else-if=\"order.status === 2\">\n                  已发货\n                </span>\n                <span v-else-if=\"order.status === 3\">\n                  已完成\n                </span> \n                <span v-else-if=\"order.status === 4\">\n                  已关闭\n                </span>\n                <span v-else>\n                  未知状态\n                </span>\n\n              </div>\n              <div class=\"item-money fr\">\n                <span>应付金额：</span>\n                <span class=\"money\">{{order.payAmount}}</span>\n                <span>元</span>\n              </div>\n              \n            </div>\n            <div class=\"order-content clearfix\">\n              <div class=\"good-box fl\">\n                <div class=\"good-list\" v-for=\"(item,i) in order.orderItemList\" :key=\"i\">\n                  <div class=\"good-img\">\n                    <img v-lazy=\"item.productPic\" alt=\"\">\n                  </div>\n                  <div class=\"good-name\">\n                    <div class=\"p-name\">{{item.productName}}</div>\n                    <div class=\"p-money\">{{item.productPrice + 'X' + item.productQuantity}}元</div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"good-state fr\" v-if=\"order.status == 0\"> \n                <a href=\"javascript:;\" @click=\"goPay(order.id)\">去支付</a>\n              </div>\n            </div>\n          </div>\n          <el-pagination\n            v-if=\"true\"\n            class=\"pagination\"\n            background\n            layout=\"prev, pager, next\"\n            :pageSize=\"pageSize\"\n            :total=\"total\"\n            @current-change=\"handleChange\"\n            >\n          </el-pagination>\n          <div class=\"load-more\" v-if=\"false\">\n              <el-button type=\"primary\" :loading=\"loading\" @click=\"loadMore\">加载更多</el-button>\n          </div>\n          <div class=\"scroll-more\"\n            v-infinite-scroll=\"scrollMore\"\n            infinite-scroll-disabled=\"true\"\n            infinite-scroll-distance=\"410\"\n            v-if=\"false\"\n          >\n            <img src=\"/imgs/loading-svg/loading-spinning-bubbles.svg\" alt=\"\" v-show=\"loading\">\n          </div>\n          <no-data v-if=\"!loading && list.length==0\"></no-data>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  import OrderHeader from './../components/OrderHeader'\n  import Loading from './../components/Loading'\n  import NoData from './../components/NoData'\n  import { Pagination,Button } from 'element-ui'\n  import infiniteScroll from 'vue-infinite-scroll'\n  import Qs from 'qs'\n  export default{\n    name:'order-list',\n    components:{\n      OrderHeader,\n      Loading,\n      NoData,\n      [Pagination.name]:Pagination,\n      [Button.name]:Button\n    },\n    directives: {\n      infiniteScroll\n    },\n    data(){\n      return {\n        loading:false,\n        list:[],\n        pageSize:10,\n        pageNum:1,\n        total:0,\n        showNextPage:true,//加载更多：是否显示按钮\n        busy:false,//滚动加载，是否触发\n      }\n    },\n    mounted(){\n      this.getOrderList();\n    },\n    methods:{\n      getOrderList(){\n        this.loading = true;\n        this.busy = true;\n        this.axios.post('/order/list/userOrder',Qs.stringify({ \n            pageSize:10,\n            pageNum:this.pageNum\n           \n        }),{headers: {'Content-Type': 'application/x-www-form-urlencoded'}}).then((res)=>{\n          this.loading = false;\n          this.list = res.records;\n          this.total = res.total;\n          this.showNextPage = res.hasNextPage;\n          this.busy = false;\n        }).catch(()=>{\n          this.loading = false;\n        })\n      },\n      goPay(orderId){\n        // 三种路由跳转方式\n        // this.$router.push('/order/pay')\n        /*this.$router.push({\n          name:'order-pay',\n          query:{\n            orderNo\n          }\n        })*/\n        this.$router.push({\n          path:'/order/pay',\n          query:{\n            orderId\n          }\n        })\n      },\n      // 第一种方法：分页器\n      handleChange(pageNum){\n        this.pageNum = pageNum;\n        this.getOrderList();\n      },\n      // 第二种方法：加载更多按钮\n      loadMore(){\n        this.pageNum++;\n        this.getOrderList();\n      },\n      // 第三种方法：滚动加载，通过npm插件实现\n      scrollMore(){\n        this.busy = true;\n        setTimeout(()=>{\n          this.pageNum++;\n          this.getList();\n        },500);\n      },\n      // 专门给scrollMore使用\n      getList(){\n        this.loading = true;\n        this.axios.get('/orders',{\n          params:{\n            pageSize:10,\n            pageNum:this.pageNum\n          }\n        }).then((res)=>{\n          this.list = this.list.concat(res.list);\n          this.loading = false;\n          if(res.hasNextPage){\n            this.busy=false;\n          }else{\n            this.busy=true;\n          }\n        });\n      },\n    }\n  }\n</script>\n<style lang=\"scss\">\n  @import './../assets/scss/config.scss';\n  @import './../assets/scss/mixin.scss';\n  .order-list{\n    .wrapper{\n      background-color:$colorJ;\n      padding-top:33px;\n      padding-bottom:110px;\n      .order-box{\n        .order{\n          @include border();\n          background-color:$colorG;\n          margin-bottom:31px;\n          &:last-child{\n            margin-bottom:0;\n          }\n          .order-title{\n            @include height(74px);\n            background-color:$colorK;\n            padding:0 43px;\n            font-size:16px;\n            color:$colorC;\n            .item-info{\n              span{\n                margin:0 9px;\n              }\n            }\n            .money{\n              font-size:26px;\n              color:$colorB;\n            }\n          }\n          .order-content{\n            padding:0 43px;\n            .good-box{\n              width:88%;\n              .good-list{\n                display: flex;\n                align-items: center;\n                height:145px;\n                .good-img{\n                  width:112px;\n                  img{\n                    width:100%;\n                  }\n                }\n                .good-name{\n                  font-size:20px;\n                  color:$colorB;\n                }\n              }\n            }\n            .good-state{\n              @include height(145px);\n              font-size: 20px;\n              color:$colorA;\n              a{\n                color:$colorA;\n              }\n            }\n          }\n        }\n        .pagination{\n          text-align:right;\n        }\n        .el-pagination.is-background .el-pager li:not(.disabled).active{\n          background-color: #FF6600;\n        }\n        .el-button--primary{\n          background-color: #FF6600;\n          border-color: #FF6600;\n        }\n        .load-more,.scroll-more{\n          text-align:center;\n        }\n      }\n    }\n  }\n</style>"],"mappings":";;;;;;;;;;;AA8FA,OAAAA,WAAA;AACA,OAAAC,OAAA;AACA,OAAAC,MAAA;AAEA,OAAAC,cAAA;AACA,OAAAC,EAAA;AACA;EACAC,IAAA;EACAC,UAAA,GAAAC,WAAA;IACAP,WAAA,EAAAA,WAAA;IACAC,OAAA,EAAAA,OAAA;IACAC,MAAA,EAAAA;EAAA,GAAAM,eAAA,CAAAD,WAAA,EACAE,WAAA,CAAAJ,IAAA,EAAAI,WAAA,GAAAD,eAAA,CAAAD,WAAA,EACAG,OAAA,CAAAL,IAAA,EAAAK,OAAA,GAAAH,WAAA,CACA;EACAI,UAAA;IACAR,cAAA,EAAAA;EACA;EACAS,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,IAAA;MACAC,QAAA;MACAC,OAAA;MACAC,KAAA;MACAC,YAAA;MAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,YAAA;EACA;EACAC,OAAA;IACAD,YAAA,WAAAA,aAAA;MAAA,IAAAE,KAAA;MACA,KAAAV,OAAA;MACA,KAAAM,IAAA;MACA,KAAAK,KAAA,CAAAC,IAAA,0BAAArB,EAAA,CAAAsB,SAAA;QACAX,QAAA;QACAC,OAAA,OAAAA;MAEA;QAAAW,OAAA;UAAA;QAAA;MAAA,GAAAC,IAAA,WAAAC,GAAA;QACAN,KAAA,CAAAV,OAAA;QACAU,KAAA,CAAAT,IAAA,GAAAe,GAAA,CAAAC,OAAA;QACAP,KAAA,CAAAN,KAAA,GAAAY,GAAA,CAAAZ,KAAA;QACAM,KAAA,CAAAL,YAAA,GAAAW,GAAA,CAAAE,WAAA;QACAR,KAAA,CAAAJ,IAAA;MACA,GAAAa,KAAA;QACAT,KAAA,CAAAV,OAAA;MACA;IACA;IACAoB,KAAA,WAAAA,MAAAC,OAAA;MACA;MACA;MACA;AACA;AACA;AACA;AACA;AACA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAC,IAAA;QACAC,KAAA;UACAJ,OAAA,EAAAA;QACA;MACA;IACA;IACA;IACAK,YAAA,WAAAA,aAAAvB,OAAA;MACA,KAAAA,OAAA,GAAAA,OAAA;MACA,KAAAK,YAAA;IACA;IACA;IACAmB,QAAA,WAAAA,SAAA;MACA,KAAAxB,OAAA;MACA,KAAAK,YAAA;IACA;IACA;IACAoB,UAAA,WAAAA,WAAA;MAAA,IAAAC,MAAA;MACA,KAAAvB,IAAA;MACAwB,UAAA;QACAD,MAAA,CAAA1B,OAAA;QACA0B,MAAA,CAAAE,OAAA;MACA;IACA;IACA;IACAA,OAAA,WAAAA,QAAA;MAAA,IAAAC,MAAA;MACA,KAAAhC,OAAA;MACA,KAAAW,KAAA,CAAAsB,GAAA;QACAC,MAAA;UACAhC,QAAA;UACAC,OAAA,OAAAA;QACA;MACA,GAAAY,IAAA,WAAAC,GAAA;QACAgB,MAAA,CAAA/B,IAAA,GAAA+B,MAAA,CAAA/B,IAAA,CAAAkC,MAAA,CAAAnB,GAAA,CAAAf,IAAA;QACA+B,MAAA,CAAAhC,OAAA;QACA,IAAAgB,GAAA,CAAAE,WAAA;UACAc,MAAA,CAAA1B,IAAA;QACA;UACA0B,MAAA,CAAA1B,IAAA;QACA;MACA;IACA;EACA;AACA"}]}