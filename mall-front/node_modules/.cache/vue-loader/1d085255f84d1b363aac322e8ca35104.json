{"remainingRequest":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\developer\\mall_sys\\mall-front\\src\\pages\\login.vue?vue&type=style&index=0&id=c40149d6&lang=scss","dependencies":[{"path":"F:\\developer\\mall_sys\\mall-front\\src\\pages\\login.vue","mtime":1616311786000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5sb2dpbnsKICAmPi5jb250YWluZXJ7CiAgICBoZWlnaHQ6MTEzcHg7CiAgICBpbWd7CiAgICAgIHdpZHRoOmF1dG87CiAgICAgIGhlaWdodDoxMDAlOwogICAgfQogIH0KICAud3JhcHBlcnsKICAgIGJhY2tncm91bmQ6dXJsKCcvaW1ncy9sb2dpbi1iZy5qcGcnKSBuby1yZXBlYXQgY2VudGVyOwogICAgLmNvbnRhaW5lcnsKICAgICAgaGVpZ2h0OjU3NnB4OwogICAgICAubG9naW4tZm9ybXsKICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIHBhZGRpbmctbGVmdDogMzFweDsKICAgICAgICBwYWRkaW5nLXJpZ2h0OiAzMXB4OwogICAgICAgIHdpZHRoOjQxMHB4OwogICAgICAgIGhlaWdodDo1MTBweDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7CiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7CiAgICAgICAgYm90dG9tOjI5cHg7CiAgICAgICAgcmlnaHQ6MDsKICAgICAgICBoM3sKICAgICAgICAgIGxpbmUtaGVpZ2h0OjIzcHg7CiAgICAgICAgICBmb250LXNpemU6MjRweDsKICAgICAgICAgIHRleHQtYWxpZ246Y2VudGVyOwogICAgICAgICAgbWFyZ2luOjQwcHggYXV0byA0OXB4OwogICAgICAgICAgLmNoZWNrZWR7CiAgICAgICAgICAgIGNvbG9yOiNGRjY2MDA7CiAgICAgICAgICB9CiAgICAgICAgICAuc2VwLWxpbmV7CiAgICAgICAgICAgIG1hcmdpbjowIDMycHg7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC5pbnB1dHsKICAgICAgICAgIGRpc3BsYXk6aW5saW5lLWJsb2NrOwogICAgICAgICAgd2lkdGg6MzQ4cHg7CiAgICAgICAgICBoZWlnaHQ6NTBweDsKICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgI0U1RTVFNTsKICAgICAgICAgIG1hcmdpbi1ib3R0b206MjBweDsKICAgICAgICAgIGlucHV0ewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIHBhZGRpbmc6IDE4cHg7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC5idG57CiAgICAgICAgICB3aWR0aDoxMDAlOwogICAgICAgICAgbGluZS1oZWlnaHQ6NTBweDsKICAgICAgICAgIG1hcmdpbi10b3A6MTBweDsKICAgICAgICAgIGZvbnQtc2l6ZToxNnB4OwogICAgICAgIH0KICAgICAgICAudGlwc3sKICAgICAgICAgIG1hcmdpbi10b3A6MTRweDsKICAgICAgICAgIGRpc3BsYXk6ZmxleDsKICAgICAgICAgIGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgZm9udC1zaXplOjE0cHg7CiAgICAgICAgICBjdXJzb3I6cG9pbnRlcjsKICAgICAgICAgIC5zbXN7CiAgICAgICAgICAgIGNvbG9yOiNGRjY2MDA7CiAgICAgICAgICB9CiAgICAgICAgICAucmVnewogICAgICAgICAgICBjb2xvcjojOTk5OTk5OwogICAgICAgICAgICBzcGFuewogICAgICAgICAgICAgIG1hcmdpbjowIDdweDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAuZm9vdGVyewogICAgaGVpZ2h0OjEwMHB4OwogICAgcGFkZGluZy10b3A6NjBweDsKICAgIGNvbG9yOiM5OTk5OTk7CiAgICBmb250LXNpemU6MTZweDsKICAgIHRleHQtYWxpZ246Y2VudGVyOwogICAgLmZvb3Rlci1saW5rewogICAgICBhewogICAgICAgIGNvbG9yOiM5OTk5OTk7CiAgICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7CiAgICAgIH0KICAgICAgc3BhbnsKICAgICAgICBtYXJnaW46MCAxMHB4OwogICAgICB9CiAgICB9CiAgICAuY29weXJpZ2h0ewogICAgICBtYXJnaW4tdG9wOjEzcHg7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"container\">\n      <a href=\"/#/index\"><img src=\"/imgs/login-logo.png\" alt=\"\"></a>\n    </div>\n    <div class=\"wrapper\">\n      <div class=\"container\">\n        <div class=\"login-form\">\n          <h3>\n            <span class=\"checked\">帐号登录</span>\n              <!-- <span class=\"sep-line\">|</span><span>扫码登录</span> -->\n          </h3>\n          <div class=\"input\">\n            <input type=\"text\" placeholder=\"请输入帐号\" v-model=\"username\">\n          </div>\n          <div class=\"input\">\n            <input type=\"password\" placeholder=\"请输入密码\" v-model=\"password\">\n          </div>\n          <div class=\"btn-box\">\n            <a href=\"javascript:;\" class=\"btn\" @click=\"login\">登录</a>\n          </div>\n          <div class=\"tips\">\n            <!-- <div class=\"sms\" @click=\"register\">手机短信登录/注册</div> -->\n            <div class=\"reg\" @click=\"register\">立即注册<span>|</span>忘记密码？</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"footer\">\n      <div class=\"footer-link\">\n        <a href=\"http://www.tulingxueyuan.cn/\" target=\"_blank\">图灵学院</a><span>|</span>\n        <a href=\"https://ke.qq.com/course/231516?tuin=a6505b53\" target=\"_blank\">腾讯课堂java架构师培训</a><span>|</span>\n        <a href=\"https://ke.qq.com/course/429988\" target=\"_blank\">数据结构与算法</a><span>|</span>\n        <a href=\"https://tuling.ke.qq.com/\" target=\"_blank\">腾讯课堂图灵学院</a>\n      </div>\n      <p class=\"copyright\">Copyright ©2019 图灵学院 All Rights Reserved.</p>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions } from 'vuex';\nimport {setCookie} from '@/util/support';\n\nimport Qs from 'qs'\n\nexport default {\n  Qs,\n  name: 'login',\n  data(){\n    return {\n      username:'',\n      password:'',\n      userId:''\n    }\n  },\n  methods:{\n    login(){\n      let { username,password } = this;\n      \n      this.axios.post(\n        'user/login',\n         Qs.stringify({\n         username:username,\n         password:password\n         }),{headers: {'Content-Type': 'application/x-www-form-urlencoded'}}).then((res)=>{\n       \n           // 将 tokenHead+jwtToken 存入到cookie  下次请求就可以携带在请求头中了\n          this.$cookie.set('token',res.tokenHead+' '+res.token,{expires:'1M'});\n          // 保存到全局变量中\n          this.$store.dispatch('saveToken',res.token);\n          // 拿到payloader 解码\n          var tokenStr= decodeURIComponent(escape(window.atob(res.token.split('.')[1])));\n          // 转换为json对象\n          let username = JSON.parse(tokenStr).user_name;\n\n          // let username=res.username\n          \n          // setCookie(\"token\",username,120);\n\n          // setCookie=this.$cookie.set\n           setCookie(\"username\",username,120);\n           // this.saveUserName= this.$store.dispatch('saveUserName',username)\n           this.saveUserName(username);\n            \n           this.$router.push({\n              name:'index',\n              params:{\n                from:'login'\n              }\n            });\n      })\n    },\n    ...mapActions(['saveUserName']),\n    register(){\n      this.axios.post('/user/register',{\n        username:this.username,\n        password:this.password\n      }).then(()=>{\n        this.$message.success('注册成功');\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.login{\n  &>.container{\n    height:113px;\n    img{\n      width:auto;\n      height:100%;\n    }\n  }\n  .wrapper{\n    background:url('/imgs/login-bg.jpg') no-repeat center;\n    .container{\n      height:576px;\n      .login-form{\n        box-sizing: border-box;\n        padding-left: 31px;\n        padding-right: 31px;\n        width:410px;\n        height:510px;\n        background-color:#ffffff;\n        position:absolute;\n        bottom:29px;\n        right:0;\n        h3{\n          line-height:23px;\n          font-size:24px;\n          text-align:center;\n          margin:40px auto 49px;\n          .checked{\n            color:#FF6600;\n          }\n          .sep-line{\n            margin:0 32px;\n          }\n        }\n        .input{\n          display:inline-block;\n          width:348px;\n          height:50px;\n          border:1px solid #E5E5E5;\n          margin-bottom:20px;\n          input{\n            width: 100%;\n            height: 100%;\n            border: none;\n            padding: 18px;\n          }\n        }\n        .btn{\n          width:100%;\n          line-height:50px;\n          margin-top:10px;\n          font-size:16px;\n        }\n        .tips{\n          margin-top:14px;\n          display:flex;\n          justify-content:space-between;\n          font-size:14px;\n          cursor:pointer;\n          .sms{\n            color:#FF6600;\n          }\n          .reg{\n            color:#999999;\n            span{\n              margin:0 7px;\n            }\n          }\n        }\n      }\n    }\n  }\n  .footer{\n    height:100px;\n    padding-top:60px;\n    color:#999999;\n    font-size:16px;\n    text-align:center;\n    .footer-link{\n      a{\n        color:#999999;\n        display:inline-block;\n      }\n      span{\n        margin:0 10px;\n      }\n    }\n    .copyright{\n      margin-top:13px;\n    }\n  }\n}\n</style>"]}]}