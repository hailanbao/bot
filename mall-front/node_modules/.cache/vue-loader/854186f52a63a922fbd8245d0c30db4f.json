{"remainingRequest":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\developer\\mall_sys\\mall-front\\src\\pages\\orderList.vue?vue&type=style&index=0&id=afdf6590&lang=scss","dependencies":[{"path":"F:\\developer\\mall_sys\\mall-front\\src\\pages\\orderList.vue","mtime":1617286768000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgJy4vLi4vYXNzZXRzL3Njc3MvY29uZmlnLnNjc3MnOwpAaW1wb3J0ICcuLy4uL2Fzc2V0cy9zY3NzL21peGluLnNjc3MnOwoub3JkZXItbGlzdHsKICAud3JhcHBlcnsKICAgIGJhY2tncm91bmQtY29sb3I6JGNvbG9ySjsKICAgIHBhZGRpbmctdG9wOjMzcHg7CiAgICBwYWRkaW5nLWJvdHRvbToxMTBweDsKICAgIC5vcmRlci1ib3h7CiAgICAgIC5vcmRlcnsKICAgICAgICBAaW5jbHVkZSBib3JkZXIoKTsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiRjb2xvckc7CiAgICAgICAgbWFyZ2luLWJvdHRvbTozMXB4OwogICAgICAgICY6bGFzdC1jaGlsZHsKICAgICAgICAgIG1hcmdpbi1ib3R0b206MDsKICAgICAgICB9CiAgICAgICAgLm9yZGVyLXRpdGxlewogICAgICAgICAgQGluY2x1ZGUgaGVpZ2h0KDc0cHgpOwogICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjokY29sb3JLOwogICAgICAgICAgcGFkZGluZzowIDQzcHg7CiAgICAgICAgICBmb250LXNpemU6MTZweDsKICAgICAgICAgIGNvbG9yOiRjb2xvckM7CiAgICAgICAgICAuaXRlbS1pbmZvewogICAgICAgICAgICBzcGFuewogICAgICAgICAgICAgIG1hcmdpbjowIDlweDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLm1vbmV5ewogICAgICAgICAgICBmb250LXNpemU6MjZweDsKICAgICAgICAgICAgY29sb3I6JGNvbG9yQjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLm9yZGVyLWNvbnRlbnR7CiAgICAgICAgICBwYWRkaW5nOjAgNDNweDsKICAgICAgICAgIC5nb29kLWJveHsKICAgICAgICAgICAgd2lkdGg6ODglOwogICAgICAgICAgICAuZ29vZC1saXN0ewogICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICBoZWlnaHQ6MTQ1cHg7CiAgICAgICAgICAgICAgLmdvb2QtaW1newogICAgICAgICAgICAgICAgd2lkdGg6MTEycHg7CiAgICAgICAgICAgICAgICBpbWd7CiAgICAgICAgICAgICAgICAgIHdpZHRoOjEwMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC5nb29kLW5hbWV7CiAgICAgICAgICAgICAgICBmb250LXNpemU6MjBweDsKICAgICAgICAgICAgICAgIGNvbG9yOiRjb2xvckI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICAuZ29vZC1zdGF0ZXsKICAgICAgICAgICAgQGluY2x1ZGUgaGVpZ2h0KDE0NXB4KTsKICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4OwogICAgICAgICAgICBjb2xvcjokY29sb3JBOwogICAgICAgICAgICBhewogICAgICAgICAgICAgIGNvbG9yOiRjb2xvckE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLnBhZ2luYXRpb257CiAgICAgICAgdGV4dC1hbGlnbjpyaWdodDsKICAgICAgfQogICAgICAuZWwtcGFnaW5hdGlvbi5pcy1iYWNrZ3JvdW5kIC5lbC1wYWdlciBsaTpub3QoLmRpc2FibGVkKS5hY3RpdmV7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGNjYwMDsKICAgICAgfQogICAgICAuZWwtYnV0dG9uLS1wcmltYXJ5ewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRjY2MDA7CiAgICAgICAgYm9yZGVyLWNvbG9yOiAjRkY2NjAwOwogICAgICB9CiAgICAgIC5sb2FkLW1vcmUsLnNjcm9sbC1tb3JlewogICAgICAgIHRleHQtYWxpZ246Y2VudGVyOwogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["orderList.vue"],"names":[],"mappings":";AAsRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderList.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"order-list\">\n    <order-header title=\"订单列表\">\n      <template v-slot:tip>\n        <span>请谨防钓鱼链接或诈骗电话，了解更多></span>\n      </template>\n    </order-header>\n    <div class=\"wrapper\">\n      <div class=\"container\">\n        <div class=\"order-box\">\n          <loading v-if=\"loading\"></loading>\n          <div class=\"order\" v-for=\"(order,index) in list\" :key=\"index\">\n            <div class=\"order-title\">\n              <div class=\"item-info fl\">\n                {{order.createTime}}\n                <span></span>\n                {{order.receiverName}}\n                <span></span>\n                订单号：{{order.orderSn}}\n                <span>| 总额:</span>\n                {{order.totalAmount}}\n                <span>| 订单状态:</span>\n                <span v-if=\"order.status === 0\">\n                  待付款\n                </span>\n                 <span v-else-if=\"order.status === 1\">\n                  代发货\n                </span>\n                <span v-else-if=\"order.status === 2\">\n                  已发货\n                </span>\n                <span v-else-if=\"order.status === 3\">\n                  已完成\n                </span> \n                <span v-else-if=\"order.status === 4\">\n                  已关闭\n                </span>\n                <span v-else>\n                  未知状态\n                </span>\n\n              </div>\n              <div class=\"item-money fr\">\n                <span>应付金额：</span>\n                <span class=\"money\">{{order.payAmount}}</span>\n                <span>元</span>\n              </div>\n              \n            </div>\n            <div class=\"order-content clearfix\">\n              <div class=\"good-box fl\">\n                <div class=\"good-list\" v-for=\"(item,i) in order.orderItemList\" :key=\"i\">\n                  <div class=\"good-img\">\n                    <img v-lazy=\"item.productPic\" alt=\"\">\n                  </div>\n                  <div class=\"good-name\">\n                    <div class=\"p-name\">{{item.productName}}</div>\n                    <div class=\"p-money\">{{item.productPrice + 'X' + item.productQuantity}}元</div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"good-state fr\" v-if=\"order.status == 0\"> \n                <a href=\"javascript:;\" @click=\"goPay(order.id)\">去支付</a>\n              </div>\n            </div>\n          </div>\n          <el-pagination\n            v-if=\"true\"\n            class=\"pagination\"\n            background\n            layout=\"prev, pager, next\"\n            :pageSize=\"pageSize\"\n            :total=\"total\"\n            @current-change=\"handleChange\"\n            >\n          </el-pagination>\n          <div class=\"load-more\" v-if=\"false\">\n              <el-button type=\"primary\" :loading=\"loading\" @click=\"loadMore\">加载更多</el-button>\n          </div>\n          <div class=\"scroll-more\"\n            v-infinite-scroll=\"scrollMore\"\n            infinite-scroll-disabled=\"true\"\n            infinite-scroll-distance=\"410\"\n            v-if=\"false\"\n          >\n            <img src=\"/imgs/loading-svg/loading-spinning-bubbles.svg\" alt=\"\" v-show=\"loading\">\n          </div>\n          <no-data v-if=\"!loading && list.length==0\"></no-data>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  import OrderHeader from './../components/OrderHeader'\n  import Loading from './../components/Loading'\n  import NoData from './../components/NoData'\n  import { Pagination,Button } from 'element-ui'\n  import infiniteScroll from 'vue-infinite-scroll'\n  import Qs from 'qs'\n  export default{\n    name:'order-list',\n    components:{\n      OrderHeader,\n      Loading,\n      NoData,\n      [Pagination.name]:Pagination,\n      [Button.name]:Button\n    },\n    directives: {\n      infiniteScroll\n    },\n    data(){\n      return {\n        loading:false,\n        list:[],\n        pageSize:10,\n        pageNum:1,\n        total:0,\n        showNextPage:true,//加载更多：是否显示按钮\n        busy:false,//滚动加载，是否触发\n      }\n    },\n    mounted(){\n      this.getOrderList();\n    },\n    methods:{\n      getOrderList(){\n        this.loading = true;\n        this.busy = true;\n        this.axios.post('/order/list/userOrder',Qs.stringify({ \n            pageSize:10,\n            pageNum:this.pageNum\n           \n        }),{headers: {'Content-Type': 'application/x-www-form-urlencoded'}}).then((res)=>{\n          this.loading = false;\n          this.list = res.records;\n          this.total = res.total;\n          this.showNextPage = res.hasNextPage;\n          this.busy = false;\n        }).catch(()=>{\n          this.loading = false;\n        })\n      },\n      goPay(orderId){\n        // 三种路由跳转方式\n        // this.$router.push('/order/pay')\n        /*this.$router.push({\n          name:'order-pay',\n          query:{\n            orderNo\n          }\n        })*/\n        this.$router.push({\n          path:'/order/pay',\n          query:{\n            orderId\n          }\n        })\n      },\n      // 第一种方法：分页器\n      handleChange(pageNum){\n        this.pageNum = pageNum;\n        this.getOrderList();\n      },\n      // 第二种方法：加载更多按钮\n      loadMore(){\n        this.pageNum++;\n        this.getOrderList();\n      },\n      // 第三种方法：滚动加载，通过npm插件实现\n      scrollMore(){\n        this.busy = true;\n        setTimeout(()=>{\n          this.pageNum++;\n          this.getList();\n        },500);\n      },\n      // 专门给scrollMore使用\n      getList(){\n        this.loading = true;\n        this.axios.get('/orders',{\n          params:{\n            pageSize:10,\n            pageNum:this.pageNum\n          }\n        }).then((res)=>{\n          this.list = this.list.concat(res.list);\n          this.loading = false;\n          if(res.hasNextPage){\n            this.busy=false;\n          }else{\n            this.busy=true;\n          }\n        });\n      },\n    }\n  }\n</script>\n<style lang=\"scss\">\n  @import './../assets/scss/config.scss';\n  @import './../assets/scss/mixin.scss';\n  .order-list{\n    .wrapper{\n      background-color:$colorJ;\n      padding-top:33px;\n      padding-bottom:110px;\n      .order-box{\n        .order{\n          @include border();\n          background-color:$colorG;\n          margin-bottom:31px;\n          &:last-child{\n            margin-bottom:0;\n          }\n          .order-title{\n            @include height(74px);\n            background-color:$colorK;\n            padding:0 43px;\n            font-size:16px;\n            color:$colorC;\n            .item-info{\n              span{\n                margin:0 9px;\n              }\n            }\n            .money{\n              font-size:26px;\n              color:$colorB;\n            }\n          }\n          .order-content{\n            padding:0 43px;\n            .good-box{\n              width:88%;\n              .good-list{\n                display: flex;\n                align-items: center;\n                height:145px;\n                .good-img{\n                  width:112px;\n                  img{\n                    width:100%;\n                  }\n                }\n                .good-name{\n                  font-size:20px;\n                  color:$colorB;\n                }\n              }\n            }\n            .good-state{\n              @include height(145px);\n              font-size: 20px;\n              color:$colorA;\n              a{\n                color:$colorA;\n              }\n            }\n          }\n        }\n        .pagination{\n          text-align:right;\n        }\n        .el-pagination.is-background .el-pager li:not(.disabled).active{\n          background-color: #FF6600;\n        }\n        .el-button--primary{\n          background-color: #FF6600;\n          border-color: #FF6600;\n        }\n        .load-more,.scroll-more{\n          text-align:center;\n        }\n      }\n    }\n  }\n</style>"]}]}