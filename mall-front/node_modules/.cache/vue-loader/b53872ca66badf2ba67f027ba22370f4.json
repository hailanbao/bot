{"remainingRequest":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\developer\\mall_sys\\mall-front\\src\\pages\\secKillOrderConfirm.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\developer\\mall_sys\\mall-front\\src\\pages\\secKillOrderConfirm.vue","mtime":1584857059000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgTW9kYWwgZnJvbSAnLi8uLi9jb21wb25lbnRzL01vZGFsJwppbXBvcnQgUXMgZnJvbSAncXMnCmV4cG9ydCBkZWZhdWx0ewogIG5hbWU6J29yZGVyLWNvbmZpcm0nLAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIGxpc3Q6W10sLy/mlLbotKflnLDlnYDliJfooagKICAgICAgY2FydExpc3Q6W10sLy/otK3nianovabkuK3pnIDopoHnu5PnrpfnmoTllYblk4HliJfooagKICAgICAgY2FydFRvdGFsUHJpY2U6MCwvL+WVhuWTgeaAu+mHkeminQogICAgICBjb3VudDowLC8v5ZWG5ZOB57uT566X5pWw6YePCiAgICAgIGNoZWNrZWRJdGVtOnt9LC8v6YCJ5Lit55qE5ZWG5ZOB5a+56LGhCiAgICAgIHVzZXJBY3Rpb246JycsLy/nlKjmiLfooYzkuLogMO+8muaWsOWiniAx77ya57yW6L6RIDLvvJrliKDpmaQKICAgICAgc2hvd0RlbE1vZGFsOmZhbHNlLC8v5piv5ZCm5pi+56S65Yig6Zmk5by55qGGCiAgICAgIHNob3dFZGl0TW9kYWw6ZmFsc2UsLy/mmK/lkKbmmL7npLrmlrDlop7miJbogIXnvJbovpHlvLnmoYYKICAgICAgY2hlY2tJbmRleDowLC8v5b2T5YmN5pS26LSn5Zyw5Z2A6YCJ5Lit57Si5byVCiAgICAgIGNvdXBvbkxpc3Q6W10sCiAgICAgIGl0ZW1JZHM6W10sCiAgICAgIGFjdGl2ZUluZGV4OjAsCiAgICAgIHRvdGFsQW1vdW50OiAwLAogICAgICBmcmVpZ2h0QW1vdW50OiAwLAogICAgICBwcm9tb3Rpb25BbW91bnQ6IDUwLAogICAgICBwYXlBbW91bnQ6IDAsCiAgICAgIGN1ckNvdXBvbklkOjAsCiAgICAgIGNvdXBvbkFtb3VudDowLAogICAgICBpZDp0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgIHRva2VuOnRoaXMuJHJvdXRlLnBhcmFtcy50b2tlbgogICAgfQogIH0sCiAgY29tcG9uZW50czp7CiAgICAgTW9kYWwKICB9LAogIG1vdW50ZWQoKXsKICAgICAKICAgIHRoaXMuZ2V0QWRkcmVzc0xpc3QoKTsKICAgIHRoaXMuZ2V0Q2FydExpc3QoKTsKICAgIHRoaXMuZ2V0Q291cG9uTGlzdCgpOwogIH0sCiAKICBtZXRob2RzOnsKICAgIGdldEFkZHJlc3NMaXN0KCl7CiAgICAgIHRoaXMuYXhpb3MuZ2V0KCcvbWVtYmVyL2FkZHJlc3MvbGlzdCcpLnRoZW4oKHJlcyk9PnsKICAgICAgICB0aGlzLmxpc3QgPSByZXM7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaJk+W8gOaWsOWinuWcsOWdgOW8ueahhgogICAgb3BlbkFkZHJlc3NNb2RhbCgpewogICAgICB0aGlzLnVzZXJBY3Rpb24gPSAwOwogICAgICB0aGlzLmNoZWNrZWRJdGVtID0ge307CiAgICAgIHRoaXMuc2hvd0VkaXRNb2RhbCA9IHRydWU7CiAgICB9LAogICAgLy8g5omT5byA5paw5aKe5Zyw5Z2A5by55qGGCiAgICBlZGl0QWRkcmVzc01vZGFsKGl0ZW0pewogICAgICB0aGlzLnVzZXJBY3Rpb24gPSAxOwogICAgICB0aGlzLmNoZWNrZWRJdGVtID0gaXRlbTsKICAgICAgdGhpcy5zaG93RWRpdE1vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxBZGRyZXNzKGl0ZW0pewogICAgICB0aGlzLmNoZWNrZWRJdGVtID0gaXRlbTsKICAgICAgdGhpcy51c2VyQWN0aW9uID0gMjsKICAgICAgdGhpcy5zaG93RGVsTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIC8vIOWcsOWdgOWIoOmZpOOAgee8lui+keOAgeaWsOWinuWKn+iDvQogICAgc3VibWl0QWRkcmVzcygpewogICAgICBsZXQge2NoZWNrZWRJdGVtLHVzZXJBY3Rpb259ID0gdGhpczsKICAgICAgbGV0IG1ldGhvZCx1cmwscGFyYW1zPXt9OwogICAgICBpZih1c2VyQWN0aW9uID09IDApewogICAgICAgIG1ldGhvZCA9ICdwb3N0Jyx1cmwgPSAnL21lbWJlci9hZGRyZXNzL2FkZCc7CiAgICAgIH1lbHNlIGlmKHVzZXJBY3Rpb24gPT0gMSl7CiAgICAgICAgbWV0aG9kID0gJ3Bvc3QnLHVybCA9IGAvbWVtYmVyL2FkZHJlc3MvdXBkYXRlLyR7Y2hlY2tlZEl0ZW0uaWR9YDsKICAgICAgfWVsc2UgewogICAgICAgIG1ldGhvZCA9ICdwb3N0Jyx1cmwgPSBgL21lbWJlci9hZGRyZXNzL2RlbGV0ZS8ke2NoZWNrZWRJdGVtLmlkfWA7CiAgICAgIH0KICAgICAgaWYodXNlckFjdGlvbiA9PSAwIHx8IHVzZXJBY3Rpb24gPT0xKXsKICAgICAgICBsZXQgeyBuYW1lLCBwaG9uZU51bWJlciwgcHJvdmluY2UsIGNpdHksIHJlZ2lvbiwgZGV0YWlsQWRkcmVzcyxwb3N0Q29kZX0gPSBjaGVja2VkSXRlbTsKICAgICAgICByZWdpb249Y2hlY2tlZEl0ZW0ucmVnaW9uOwogICAgICAgIGxldCBlcnJNc2c9Jyc7CiAgICAgICAgaWYoIW5hbWUpewogICAgICAgICAgZXJyTXNnID0gJ+ivt+i+k+WFpeaUtui0p+S6uuWQjeensCc7CiAgICAgICAgfWVsc2UgaWYoIXBob25lTnVtYmVyIHx8ICEvXGR7MTF9Ly50ZXN0KHBob25lTnVtYmVyKSl7CiAgICAgICAgICBlcnJNc2cgPSAn6K+36L6T5YWl5q2j56Gu5qC85byP55qE5omL5py65Y+3JzsKICAgICAgICB9ZWxzZSBpZighcHJvdmluY2UpewogICAgICAgICAgZXJyTXNnID0gJ+ivt+mAieaLqeecgeS7vSc7CiAgICAgICAgfWVsc2UgaWYoIWNpdHkpewogICAgICAgICAgZXJyTXNnID0gJ+ivt+mAieaLqeWvueW6lOeahOWfjuW4gic7CiAgICAgICAgfWVsc2UgaWYoIWRldGFpbEFkZHJlc3MgfHwgIXJlZ2lvbil7CiAgICAgICAgICBlcnJNc2cgPSAn6K+36L6T5YWl5pS26LSn5Zyw5Z2AJzsKICAgICAgICB9ZWxzZSBpZighL1xkezZ9Ly50ZXN0KHBvc3RDb2RlKSl7CiAgICAgICAgICBlcnJNc2cgPSAn6K+36L6T5YWl5YWt5L2N6YKu57yWJzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoZXJyTXNnKXsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyTXNnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgbmFtZSwKICAgICAgICAgIHBob25lTnVtYmVyLAogICAgICAgICAgcG9zdENvZGUsCiAgICAgICAgICBwcm92aW5jZSwKICAgICAgICAgIGNpdHksCiAgICAgICAgICByZWdpb24sCiAgICAgICAgICBkZXRhaWxBZGRyZXNzCiAgICAgICAgICAKICAgICAgICB9CiAgICAgIH0KICAgICAgCiAgICAgIHRoaXMuYXhpb3NbbWV0aG9kXSh1cmwscGFyYW1zKS50aGVuKCgpPT57CiAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7CiAgICAgICAgdGhpcy5nZXRBZGRyZXNzTGlzdCgpOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlTW9kYWwoKXsKICAgICAgdGhpcy5jaGVja2VkSXRlbSA9IHt9OwogICAgICB0aGlzLnVzZXJBY3Rpb24gPSAnJzsKICAgICAgdGhpcy5zaG93RGVsTW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93RWRpdE1vZGFsID0gZmFsc2U7CiAgICB9LAogICAgZ2V0Q2FydExpc3QoKXsKCiAgICAgICAgaWYodGhpcy5pZD09dW5kZWZpbmVkIHx8IHRoaXMuaWQ9PW51bGwgfHwgdGhpcy50b2tlbj09dW5kZWZpbmVkIHx8IHRoaXMudG9rZW49PScnKXsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36YCJ5oup5LiA5Liq5Lqn5ZOBJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICB0aGlzLmF4aW9zLnBvc3QoJy9vcmRlci8nK3RoaXMudG9rZW4rJy9nZW5lcmF0ZUNvbmZpcm1PcmRlcicsUXMuc3RyaW5naWZ5KHtwcm9kdWN0SWQ6IHRoaXMuaWR9LHtpbmRpY2VzOiBmYWxzZX0pLAogICAgICAgICAgICAgICAgICB7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KS50aGVuKChyZXMpPT57CiAgICAgICAgICAgICAgICB0aGlzLmNhcnRMaXN0PXJlcy5jYXJ0UHJvbW90aW9uSXRlbUxpc3Q7CiAgICAgICAgICAgICAgICByZXMuY2FydFByb21vdGlvbkl0ZW1MaXN0Lm1hcCgoaXRlbSk9PnsKICAgICAgICAgICAgICAgIHRoaXMuY291bnQgKz0gaXRlbS5xdWFudGl0eTsKICAgICAgICAgICAgICAgIHRoaXMuY2FydFRvdGFsUHJpY2UgKz0gaXRlbS5wcmljZTsKICAgICAgICAgICAgICAgIHRoaXMuaXRlbUlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAgICAgICAgICAvLyB0aGlzLmNvdXBvbkFtb3VudD1yZXMuCiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsQW1vdW50PXJlcy5jYWxjQW1vdW50LnRvdGFsQW1vdW50OwogICAgICAgICAgICAgICAgdGhpcy5mcmVpZ2h0QW1vdW50PXJlcy5jYWxjQW1vdW50LmZyZWlnaHRBbW91bnQ7CiAgICAgICAgICAgICAgICB0aGlzLnByb21vdGlvbkFtb3VudD1yZXMuY2FsY0Ftb3VudC5wcm9tb3Rpb25BbW91bnQ7CiAgICAgICAgICAgICAgICB0aGlzLnBheUFtb3VudD1yZXMuY2FsY0Ftb3VudC5wYXlBbW91bnQ7CgogICAgICAgICAgICAgICByZXMuY291cG9uSGlzdG9yeURldGFpbExpc3QubWFwKChjaXRlbSk9PnsKICAgICAgICAgICAgICAgICAgdmFyIG8gPSBuZXcgT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgIG8uaWQ9Y2l0ZW0uY291cG9uLmlkOwogICAgICAgICAgICAgICAgICBvLm5hbWU9Y2l0ZW0uY291cG9uLm5hbWU7CiAgICAgICAgICAgICAgICAgIG8uYW1vdW50PWNpdGVtLmNvdXBvbi5hbW91bnQ7CiAgICAgICAgICAgICAgICAgIHRoaXMuY291cG9uTGlzdC5wdXNoKG8pOwogICAgICAgICAgICAgICB9KTsKCiAgCiAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgfSk7CiAgICAgfSwKICAgIC8vIOiuouWNleaPkOS6pAogICAgb3JkZXJTdWJtaXQoKXsKICAgICAgbGV0IGl0ZW0gPSB0aGlzLmxpc3RbdGhpcy5jaGVja0luZGV4XTsKICAgICAgCiAgICAgIGlmKCFpdGVtKXsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fpgInmi6nkuIDkuKrmlLbotKflnLDlnYAnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IGFycklkcz1bXTsKICAgICAgYXJySWRzLnB1c2godGhpcy5pZCk7CiAgICAgdGhpcy5heGlvcy5wb3N0KCcvb3JkZXIvJyt0aGlzLnRva2VuKycvZ2VuZXJhdGVPcmRlcicsewogICAgICAgICAgICAgICAgaXRlbUlkczogYXJySWRzLAogICAgICAgICAgICAgICAgbWVtYmVyUmVjZWl2ZUFkZHJlc3NJZDppdGVtLmlkLAogICAgICAgICAgICAgICAgcGF5VHlwZToxCiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgfSkudGhlbigocmVzKT0+ewogICAgICAgICAgICAgICAvL+WQjOatpSAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICBpZihyZXMub3JkZXJTdGF0dXM9PTApewogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6Jy9vcmRlci9wYXknLAogICAgICAgICAgICAgICAgICBxdWVyeTp7CiAgICAgICAgICAgICAgICAgICAgb3JkZXJJZDpyZXMub3JkZXIuaWQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgLy/lvILmraUgLSDnirbmgIHlkIzmraXpobXpnaIgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgfWVsc2UgaWYocmVzLm9yZGVyU3RhdHVzPT0xKXsKICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S4i+WNleeKtuaAgeW8gOWni+afpeivoi4nKTsKICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDoiL29yZGVyL3N0YXR1cy8iK3RoaXMuaWR9KTsKICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5pyq55+l5byC5bi477yM6K+356iN5ZCO6YeN6K+VLicpOwogICAgICAgICAgICAgICB9CiAgICAgIH0pICAgICAgICAgCiAgICB9CiAgICAgIAogIH0KfQo="},{"version":3,"sources":["secKillOrderConfirm.vue"],"names":[],"mappings":";;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"secKillOrderConfirm.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"order-confirm\">\n    <order-header title=\"订单确认\">\n      <template v-slot:tip>\n        <span>请认真填写收货地址</span>\n      </template>\n    </order-header>\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"position: absolute; width: 0px; height: 0px; overflow: hidden;\">\n      <defs>\n        <symbol id=\"icon-add\" viewBox=\"0 0 31 32\">\n          <title>add</title>\n          <path d=\"M30.745 15.152h-14.382v-14.596c0-0.308-0.243-0.557-0.543-0.557s-0.543 0.249-0.543 0.557v14.596h-14.665c-0.3 0-0.543 0.249-0.543 0.557s0.243 0.557 0.543 0.557h14.665v15.177c0 0.307 0.243 0.557 0.543 0.557s0.543-0.249 0.543-0.557v-15.177h14.382c0.3 0 0.543-0.249 0.543-0.557s-0.243-0.557-0.543-0.557z\" class=\"path1\"></path>\n        </symbol>\n        <symbol id=\"icon-edit\" viewBox=\"0 0 32 32\">\n          <title>edit</title>\n          <path d=\"M28.287 8.51l-4.805-4.806 0.831-0.831c0.472-0.472 1.086-0.777 1.564-0.777 0.248 0 0.452 0.082 0.622 0.253l3.143 3.144c0.539 0.54 0.133 1.529-0.524 2.186l-0.831 0.831zM26.805 9.992l-1.138 1.138-4.805-4.806 1.138-1.138 4.805 4.806zM24.186 12.612l-14.758 14.762-4.805-4.806 14.758-14.762 4.805 4.806zM7.379 28.288l-4.892 1.224 1.223-4.894 3.669 3.67zM31.123 4.011l-3.143-3.144c-0.567-0.567-1.294-0.867-2.103-0.867-1.036 0-2.174 0.52-3.045 1.391l-20.429 20.436c-0.135 0.134-0.23 0.302-0.276 0.487l-2.095 8.385c-0.089 0.355 0.017 0.736 0.276 0.995 0.198 0.198 0.461 0.307 0.741 0.307 0.085 0 0.171-0.010 0.254-0.031l8.381-2.096c0.185-0.047 0.354-0.142 0.487-0.276l20.43-20.436c1.409-1.41 2.042-3.632 0.524-5.15v0z\" class=\"path1\"></path>\n        </symbol>\n        <symbol id=\"icon-del\" viewBox=\"0 0 32 32\">\n          <title>delete</title>\n          <path d=\"M11.355 4.129v-2.065h9.29v2.065h-9.29zM6.194 29.935v-23.742h19.613v23.742h-19.613zM30.968 4.129h-8.258v-3.097c0-0.569-0.463-1.032-1.032-1.032h-11.355c-0.569 0-1.032 0.463-1.032 1.032v3.097h-8.258c-0.569 0-1.032 0.463-1.032 1.032s0.463 1.032 1.032 1.032h3.097v24.774c0 0.569 0.463 1.032 1.032 1.032h21.677c0.569 0 1.032-0.463 1.032-1.032v-24.774h3.097c0.569 0 1.032-0.463 1.032-1.032s-0.463-1.032-1.032-1.032v0z\" class=\"path1\"></path>\n          <path d=\"M10.323 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z\" class=\"path2\"></path>\n          <path d=\"M16 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z\" class=\"path3\"></path>\n          <path d=\"M21.677 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z\" class=\"path4\"></path>\n        </symbol>\n      </defs>\n    </svg>\n    <div class=\"wrapper\">\n      <div class=\"container\">\n        <div class=\"order-box\">\n          <div class=\"item-address\">\n            <h2 class=\"addr-title\">收货地址</h2>\n            <div class=\"addr-list clearfix\">\n              <div class=\"addr-info\" :class=\"{'checked':index == checkIndex}\" @click=\"checkIndex=index\" v-for=\"(item,index) in list\" :key=\"index\">\n                <h2>{{item.name}}</h2>\n                <div class=\"phone\">{{item.phoneNumber}}</div>\n                <div class=\"street\">{{item.province + ' ' + item.city + ' ' + item.region + ' ' + item.detailAddress}}</div>\n                <div class=\"action\">\n                  <a href=\"javascript:;\" class=\"fl\" @click=\"delAddress(item)\">\n                    <svg class=\"icon icon-del\">\n                      <use xlink:href=\"#icon-del\"></use>\n                    </svg>\n                  </a>\n                  <a href=\"javascript:;\" class=\"fr\" @click=\"editAddressModal(item)\">\n                    <svg class=\"icon icon-edit\">\n                      <use xlink:href=\"#icon-edit\"></use>\n                    </svg>\n                  </a>\n                </div>\n              </div>\n              <div class=\"addr-add\" @click=\"openAddressModal\">\n                <div class=\"icon-add\"></div>\n                <div>添加新地址</div>\n              </div>\n            </div>\n          </div>\n          <div class=\"item-good\">\n            <h2>商品</h2>\n            <ul>\n              <li v-for=\"(item,index) in cartList\" :key=\"index\">\n                <div class=\"good-name\">\n                  <img v-lazy=\"item.productMainImage\" alt=\"\">\n                  <span>{{item.productName + ' ' + item.productSubTitle}}</span>\n                </div>\n                <div class=\"good-price\">{{item.price}}元x{{item.quantity}}</div>\n                 <div class=\"good-total\">{{item.price * item.quantity}}元</div>\n              </li>\n            </ul>\n          </div>\n       \n\n          <div class=\"detail\">\n            <div class=\"item\">\n              <span class=\"item-name\">商品件数：</span>\n              <span class=\"item-val\">{{count}}件</span>\n            </div>\n            <div class=\"item\">\n              <span class=\"item-name\">商品总价：</span>\n              <span class=\"item-val\">{{totalAmount}}元</span>\n            </div>\n            <div class=\"item\">\n              <span class=\"item-name\">优惠活动：</span>\n              <span class=\"item-val\">{{promotionAmount}}元</span>\n            </div>\n             \n            <div class=\"item\">\n              <span class=\"item-name\">运费：</span>\n              <span class=\"item-val\">{{freightAmount}}元</span>\n            </div>\n            <div class=\"item-total\">\n              <span class=\"item-name\">应付总额：</span>\n              <span class=\"item-val\">{{payAmount}}元</span>\n            </div>\n          </div>\n          <div class=\"btn-group\">\n            <a href=\"/#/cart\" class=\"btn btn-default btn-large\">返回购物车</a>\n            <a href=\"javascript:;\" class=\"btn btn-large\" @click=\"orderSubmit\">去结算</a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <modal\n      title=\"新增确认\"\n      btnType=\"1\"\n      :showModal=\"showEditModal\"\n      @cancel=\"showEditModal=false\"\n      @submit=\"submitAddress\"\n    >\n      <template v-slot:body>\n        <div class=\"edit-wrap\">\n          <div class=\"item\">\n            <input type=\"text\" class=\"input\" placeholder=\"姓名\" v-model=\"checkedItem.name\">\n            <input type=\"text\" class=\"input\" placeholder=\"手机号\" v-model=\"checkedItem.phoneNumber\">\n          </div>\n          <div class=\"item\">\n            <select name=\"province\" v-model=\"checkedItem.province\">\n              <option value=\"北京\">北京</option>\n              <option value=\"天津\">天津</option>\n              <option value=\"河北\">河北</option>\n            </select>\n            <select name=\"city\" v-model=\"checkedItem.city\">\n              <option value=\"北京\">北京</option>\n              <option value=\"天津\">天津</option>\n              <option value=\"河北\">石家庄</option>\n            </select>\n            <select name=\"region\" v-model=\"checkedItem.region\">\n              <option value=\"北京\">昌平区</option>\n              <option value=\"天津\">海淀区</option>\n              <option value=\"河北\">东城区</option>\n              <option value=\"天津\">西城区</option>\n              <option value=\"河北\">顺义区</option>\n              <option value=\"天津\">房山区</option>\n            </select>\n          </div>\n          <div class=\"item\">\n            <textarea name=\"street\" v-model=\"checkedItem.detailAddress\"></textarea>\n          </div>\n          <div class=\"item\">\n            <input type=\"text\" class=\"input\" placeholder=\"邮编\" v-model=\"checkedItem.postCode\">\n          </div>\n        </div>\n      </template>\n    </modal>\n    <modal\n      title=\"删除确认\"\n      btnType=\"1\"\n      :showModal=\"showDelModal\"\n      @cancel=\"showDelModal=false\"\n      @submit=\"submitAddress\"\n    >\n      <template v-slot:body>\n        <p>您确认要删除此地址吗？</p>\n      </template>\n    </modal>\n  </div>\n</template>\n<script>\n\nimport Modal from './../components/Modal'\nimport Qs from 'qs'\nexport default{\n  name:'order-confirm',\n  data(){\n    return {\n      list:[],//收货地址列表\n      cartList:[],//购物车中需要结算的商品列表\n      cartTotalPrice:0,//商品总金额\n      count:0,//商品结算数量\n      checkedItem:{},//选中的商品对象\n      userAction:'',//用户行为 0：新增 1：编辑 2：删除\n      showDelModal:false,//是否显示删除弹框\n      showEditModal:false,//是否显示新增或者编辑弹框\n      checkIndex:0,//当前收货地址选中索引\n      couponList:[],\n      itemIds:[],\n      activeIndex:0,\n      totalAmount: 0,\n      freightAmount: 0,\n      promotionAmount: 50,\n      payAmount: 0,\n      curCouponId:0,\n      couponAmount:0,\n      id:this.$route.params.id,\n      token:this.$route.params.token\n    }\n  },\n  components:{\n     Modal\n  },\n  mounted(){\n     \n    this.getAddressList();\n    this.getCartList();\n    this.getCouponList();\n  },\n \n  methods:{\n    getAddressList(){\n      this.axios.get('/member/address/list').then((res)=>{\n        this.list = res;\n      });\n    },\n    // 打开新增地址弹框\n    openAddressModal(){\n      this.userAction = 0;\n      this.checkedItem = {};\n      this.showEditModal = true;\n    },\n    // 打开新增地址弹框\n    editAddressModal(item){\n      this.userAction = 1;\n      this.checkedItem = item;\n      this.showEditModal = true;\n    },\n    delAddress(item){\n      this.checkedItem = item;\n      this.userAction = 2;\n      this.showDelModal = true;\n    },\n    // 地址删除、编辑、新增功能\n    submitAddress(){\n      let {checkedItem,userAction} = this;\n      let method,url,params={};\n      if(userAction == 0){\n        method = 'post',url = '/member/address/add';\n      }else if(userAction == 1){\n        method = 'post',url = `/member/address/update/${checkedItem.id}`;\n      }else {\n        method = 'post',url = `/member/address/delete/${checkedItem.id}`;\n      }\n      if(userAction == 0 || userAction ==1){\n        let { name, phoneNumber, province, city, region, detailAddress,postCode} = checkedItem;\n        region=checkedItem.region;\n        let errMsg='';\n        if(!name){\n          errMsg = '请输入收货人名称';\n        }else if(!phoneNumber || !/\\d{11}/.test(phoneNumber)){\n          errMsg = '请输入正确格式的手机号';\n        }else if(!province){\n          errMsg = '请选择省份';\n        }else if(!city){\n          errMsg = '请选择对应的城市';\n        }else if(!detailAddress || !region){\n          errMsg = '请输入收货地址';\n        }else if(!/\\d{6}/.test(postCode)){\n          errMsg = '请输入六位邮编';\n        }\n        \n        if(errMsg){\n          this.$message.error(errMsg);\n          return;\n        }\n        params = {\n          name,\n          phoneNumber,\n          postCode,\n          province,\n          city,\n          region,\n          detailAddress\n          \n        }\n      }\n      \n      this.axios[method](url,params).then(()=>{\n        this.closeModal();\n        this.getAddressList();\n        this.$message.success('操作成功');\n      });\n    },\n    closeModal(){\n      this.checkedItem = {};\n      this.userAction = '';\n      this.showDelModal = false;\n      this.showEditModal = false;\n    },\n    getCartList(){\n\n        if(this.id==undefined || this.id==null || this.token==undefined || this.token==''){\n            this.$message.error('请选择一个产品');\n            return;\n        }\n       this.axios.post('/order/'+this.token+'/generateConfirmOrder',Qs.stringify({productId: this.id},{indices: false}),\n                  {headers: {'Content-Type': 'application/x-www-form-urlencoded'}}).then((res)=>{\n                this.cartList=res.cartPromotionItemList;\n                res.cartPromotionItemList.map((item)=>{\n                this.count += item.quantity;\n                this.cartTotalPrice += item.price;\n                this.itemIds.push(item.id);\n               // this.couponAmount=res.\n                this.totalAmount=res.calcAmount.totalAmount;\n                this.freightAmount=res.calcAmount.freightAmount;\n                this.promotionAmount=res.calcAmount.promotionAmount;\n                this.payAmount=res.calcAmount.payAmount;\n\n               res.couponHistoryDetailList.map((citem)=>{\n                  var o = new Object();\n                  o.id=citem.coupon.id;\n                  o.name=citem.coupon.name;\n                  o.amount=citem.coupon.amount;\n                  this.couponList.push(o);\n               });\n\n  \n               });\n\n         });\n     },\n    // 订单提交\n    orderSubmit(){\n      let item = this.list[this.checkIndex];\n      \n      if(!item){\n        this.$message.error('请选择一个收货地址');\n        return;\n      }\n      let arrIds=[];\n      arrIds.push(this.id);\n     this.axios.post('/order/'+this.token+'/generateOrder',{\n                itemIds: arrIds,\n                memberReceiveAddressId:item.id,\n                payType:1\n              \n              }).then((res)=>{\n               //同步               \n               if(res.orderStatus==0){\n                  this.$router.push({\n                  path:'/order/pay',\n                  query:{\n                    orderId:res.order.id\n                  }\n                });\n              //异步 - 状态同步页面               \n               }else if(res.orderStatus==1){\n                 this.$message.success('下单状态开始查询.');\n                 this.$router.push({path:\"/order/status/\"+this.id});\n               }else{\n                  this.$message.warning('未知异常，请稍后重试.');\n               }\n      })         \n    }\n      \n  }\n}\n</script>\n<style lang=\"scss\">\n  .order-confirm{\n    .wrapper{\n      background-color:#F5F5F5;\n      padding-top:30px;\n      padding-bottom:84px;\n      .order-box{\n        background-color:#ffffff;\n        padding-left: 40px;\n        padding-bottom: 40px;\n        .addr-title{\n          font-size: 20px;\n          color: #333333;\n          font-weight: 200;\n          margin-bottom:21px;\n        }\n        .item-address{\n          padding-top: 38px;\n          .addr-list{\n            .addr-info,.addr-add{\n              box-sizing:border-box;\n              float: left;\n              width:271px;\n              height:180px;\n              border:1px solid #E5E5E5;\n              margin-right: 15px;\n              padding: 15px 24px;\n              font-size: 14px;\n              color:#757575;\n            }\n            .addr-info{\n              cursor:pointer;\n              h2{\n                height:27px;\n                font-size:18px;\n                font-weight: 300;\n                color:#333;\n                margin-bottom:10px;\n              }\n              .street{\n                height:50px;\n              }\n              .action{\n                height:50px;\n                line-height:50px;\n                .icon{\n                  width: 20px;\n                  height: 20px;\n                  fill: #666666;\n                  vertical-align: middle;\n                  &:hover{\n                    fill: #FF6700;\n                  }\n                }\n              }\n              &.checked{\n                border:1px solid #ff6700;\n              }\n            }\n            .addr-add{\n              text-align:center;\n              color: #999999;\n              cursor:pointer;\n              .icon-add{\n                width:30px;\n                height:30px;\n                border-radius:50%;\n                background:url('/imgs/icon-add.png') #E0E0E0 no-repeat center;\n                background-size:14px;\n                margin: 0 auto;\n                margin-top: 45px;\n                margin-bottom: 10px;\n              }\n            }\n          }\n        }\n        .item-good{\n          margin-top:34px;\n          border-bottom: 1px solid #E5E5E5;\n          padding-bottom: 12px;\n          h2{\n            border-bottom:1px solid #E5E5E5;\n            padding-bottom: 5px;\n          }\n          li{\n            display:flex;\n            align-items: center;\n            height:40px;\n            line-height:40px;\n            margin-top:10px;\n            font-size:16px;\n            color:#333333;\n            .good-name{\n              flex:5;\n              img{\n                width:30px;\n                height:30px;\n                vertical-align:middle;\n              }\n            }\n            .good-price{\n              flex:2;\n            }\n            .good-total{\n              padding-right:44px;\n              color:#FF6600;\n            }\n          }\n        }\n        .item-shipping,.item-invoice{\n          margin-top:31px;\n          line-height: 20px;\n          h2{\n            display: inline-block;\n            margin-right: 71px;\n            font-size: 20px;\n            width: 80px;\n          }\n          span,a{\n            font-size:16px;\n            color:#FF6700;\n            margin-right:23px;\n          }\n        }\n        .detail{\n          padding: 50px 44px 33px 0;\n          border-bottom: 1px solid #f5f5f5;\n          text-align: right;\n          font-size: 16px;\n          color: #666666;\n          .item-val{\n            color:#FF6700;\n          }\n          .item{\n            line-height: 15px;\n            margin-bottom: 12px;\n          }\n          .item-val{\n            display:inline-block;\n            width:100px;\n          }\n          .item-total{\n            .item-val{\n              font-size:28px;\n            }\n          }\n          .selc{\n                border: 1px solid #ccc; \n                padding: 7px 7px;\n                border-radius: 3px; \n                padding-left:5px;\n                padding-bottom:10px;\n                font-size:24;\n                margin-bottom: 12px;\n          }\n        }\n        .btn-group{\n          margin-top: 37px;\n          text-align: right;\n        }\n      }\n    }\n    .edit-wrap{\n      font-size:14px;\n      .item{\n        margin-bottom:15px;\n        .input{\n          display:inline-block;\n          width:283px;\n          height:40px;\n          line-height:40px;\n          padding-left:15px;\n          border:1px solid #E5E5E5;\n          &+.input{\n            margin-left:14px;\n          }\n        }\n        select{\n          height:40px;\n          line-height:40px;\n          border:1px solid #E5E5E5;\n          margin-right:15px;\n        }\n        textarea{\n          height:62px;\n          width:100%;\n          padding:13px 15px;\n          box-sizing:border-box;\n          border:1px solid #E5E5E5;\n        }\n      }\n    }\n  }\n \n</style>"]}]}