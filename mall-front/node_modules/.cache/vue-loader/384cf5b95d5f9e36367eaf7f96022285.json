{"remainingRequest":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\developer\\mall_sys\\mall-front\\src\\components\\index\\MenuBanner.vue?vue&type=style&index=0&id=a673ea10&lang=less","dependencies":[{"path":"F:\\developer\\mall_sys\\mall-front\\src\\components\\index\\MenuBanner.vue","mtime":1615885919000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoubWVudS1iYW5uZXIgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHdpZHRoOiAxMjI2cHg7DQogIGhlaWdodDogYXV0bzsNCiAgbWFyZ2luOiAwIGF1dG87DQogIC5tZW51LWNvbnRhaW5lciB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGxlZnQ6IDA7DQogICAgdG9wOiAwOw0KICAgIHdpZHRoOiAyMzVweDsNCiAgICBoZWlnaHQ6IGF1dG87DQogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjMpOw0KICAgIHotaW5kZXg6IDEwOw0KICB9DQp9DQoNCi5tZW51LWxpc3Qgew0KICBwYWRkaW5nOiAyMHB4IDA7DQogIGhlaWdodDogNDIwcHg7DQogIC5saXN0LWl0ZW0gew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgcGFkZGluZy1sZWZ0OiAzMHB4Ow0KICAgICY6aG92ZXIgew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNjcwMDsNCiAgICB9DQoNCiAgICBhIHsNCiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICAgIHdpZHRoOiAxNzBweDsNCiAgICAgIGhlaWdodDogNDJweDsNCiAgICAgIGxpbmUtaGVpZ2h0OiA0MnB4Ow0KICAgICAgY29sb3I6ICNmZmY7DQogICAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7DQogICAgfQ0KDQogICAgaSB7DQogICAgICBmb250LXNpemU6IDIycHg7DQogICAgICBjb2xvcjogI2UwZTBlMDsNCiAgICAgIGxpbmUtaGVpZ2h0OiA0MnB4Ow0KICAgIH0NCiAgfQ0KfQ0KDQoubWVudS1pbmZvIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWZsb3c6IHJvdyBub3dyYXA7DQogIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsNCiAgbGVmdDogMjM1cHg7DQogIHRvcDogMDsNCiAgei1pbmRleDogMTE7DQogIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7DQogIGJveC1zaGFkb3c6IDNweCA4cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuMTgpOw0KICAubWVudS1pbmZvLWxpc3Qgew0KICAgIHdpZHRoOiAyNDhweDsNCiAgICBoZWlnaHQ6IDQ1OHB4Ow0KICAgIG1hcmdpbjogMDsNCiAgICBwYWRkaW5nOiAwOw0KICAgIGxpc3Qtc3R5bGU6IG5vbmU7DQogICAgYmFja2dyb3VuZDogI2ZmZjsNCiAgICBhIHsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICBwYWRkaW5nOiAxOHB4IDIwcHg7DQogICAgICBsaW5lLWhlaWdodDogNDBweDsNCiAgICAgIGNvbG9yOiAjMzMzOw0KICAgICAgaW1nIHsNCiAgICAgICAgd2lkdGg6IDQwcHg7DQogICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMnB4Ow0KICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KICAgICAgfQ0KDQogICAgICBzcGFuIHsNCiAgICAgICAgd2lkdGg6IDE3MnB4Ow0KICAgICAgICBsaW5lLWhlaWdodDogNDBweDsNCiAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDsNCiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICB9DQoNCiAgICAgICY6aG92ZXIgew0KICAgICAgICBzcGFuIHsNCiAgICAgICAgICBjb2xvcjogI2ZmNjcwMDsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["MenuBanner.vue"],"names":[],"mappings":";AAgJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MenuBanner.vue","sourceRoot":"src/components/index","sourcesContent":["<template>\r\n  <div class=\"menu-banner\">\r\n    <div class=\"menu-container\" @mouseleave=\"bannerMenuHide()\">\r\n      <!-- 循环所有的分类 -->\r\n      <ul class=\"menu-list\">\r\n        <li\r\n          class=\"list-item\"\r\n          v-for=\"(item, index) in menus\"\r\n          :key=\"index\"\r\n          @mouseenter=\"bannerMenuShow(item.type)\"\r\n        >\r\n          <a :href=\"item.url\" target=\"blank\">{{ item.value }}</a>\r\n          <i class=\"fa fa-angle-right\"></i>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div\r\n      class=\"menu-info\"\r\n      v-show=\"bannerMenuFlag\"\r\n      @mouseleave=\"bannerMenuHide()\"\r\n      @mouseenter=\"bannerMenuShow()\"\r\n    >\r\n      <ul\r\n        class=\"menu-info-list\"\r\n        v-for=\"(list, key) in menuListMatch\"\r\n        :key=\"key\"\r\n        :data-key=\"key\"\r\n      >\r\n        <li\r\n          class=\"info-list-item\"\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"index\"\r\n          :data-index=\"index\"\r\n        >\r\n          <a :href=\"'/#/detail/'+item.id\">\r\n            <img :src=\"item.pic\" :alt=\"item.name\" />\r\n            <span class=\"\">{{ item.name }}</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <banner :banners=\"banners\"></banner>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Banner from \"./Banner\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      bannerMenuFlag: false,\r\n      menuTimer: \"\",\r\n      listInfoData: [],   \r\n      // 一级分类\r\n      menus: [\r\n        // {\r\n        //   value: \"手机 电话卡\",\r\n        //   url: \"/#/searchResult/s\",\r\n        //   type: \"phone\",\r\n        // },\r\n      ],\r\n      banners: [\r\n        // {\r\n        //   src:\r\n        //     \"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/cefed8336bae62768afeeb6a3b8f55c8.jpg?w=2452&h=920\",\r\n        //   url: \"https://www.mi.com/redminote7/\",\r\n        // } \r\n      ],  \r\n      products:{\r\n      }\r\n    };\r\n  },\r\n  methods: { \r\n    bannerMenuHide() {\r\n      this.menuTimer = setTimeout(() => {\r\n        this.bannerMenuFlag = false;\r\n      }, 300);\r\n    },\r\n    bannerMenuShow(type) {   //2\r\n      if (type) {\r\n        this.listInfoData = this.products[type]; \r\n      }\r\n\r\n      this.bannerMenuFlag = true;\r\n      clearTimeout(this.menuTimer);\r\n    },\r\n    init() {\r\n        this.axios.get(\"/home/menus_banner\").then((res) => { \r\n          // 处理类型\r\n          let homeMenusList= res.homeMenusList;\r\n          for (let i = 0; i < homeMenusList.length; i++) {\r\n            const cate = homeMenusList[i];\r\n            this.menus.push({\r\n              value:cate.name,\r\n              type:cate.id,\r\n              url:\"/#/searchResult/\"+cate.name\r\n            });\r\n            \r\n            // 处理商品\r\n            this.products[cate.id]= cate.productList \r\n          }\r\n\r\n          // banner\r\n          let homeAdvertisesList= res.homeAdvertisesList;\r\n          for (let index = 0; index < homeAdvertisesList.length; index++) {\r\n            const adver = homeAdvertisesList[index];\r\n            this.banners.push({\r\n              src:adver.pic,\r\n              url:adver.url\r\n            })\r\n            \r\n          }\r\n          \r\n       });\r\n\r\n      // this.axios.get(\"/home/content\").then((res) => {\r\n      //   this.banners = res.advertiseList;\r\n      // });\r\n    },\r\n  },\r\n  // 生命周期钩子函数\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  computed: {\r\n    menuListMatch() {\r\n      const matchData = [];\r\n      if (this.listInfoData && this.listInfoData.length) {\r\n        for (let i = 0; i < this.listInfoData.length; i += 6) {\r\n          matchData.push(this.listInfoData.slice(i, i + 6));\r\n        }\r\n      }\r\n      return matchData;\r\n      \r\n    },\r\n  },\r\n  components: {\r\n    Banner: Banner,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.menu-banner {\r\n  position: relative;\r\n  width: 1226px;\r\n  height: auto;\r\n  margin: 0 auto;\r\n  .menu-container {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 235px;\r\n    height: auto;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    z-index: 10;\r\n  }\r\n}\r\n\r\n.menu-list {\r\n  padding: 20px 0;\r\n  height: 420px;\r\n  .list-item {\r\n    display: flex;\r\n    padding-left: 30px;\r\n    &:hover {\r\n      background-color: #ff6700;\r\n    }\r\n\r\n    a {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 170px;\r\n      height: 42px;\r\n      line-height: 42px;\r\n      color: #fff;\r\n      text-align: left;\r\n      background-color: transparent;\r\n    }\r\n\r\n    i {\r\n      font-size: 22px;\r\n      color: #e0e0e0;\r\n      line-height: 42px;\r\n    }\r\n  }\r\n}\r\n\r\n.menu-info {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: flex-start;\r\n  left: 235px;\r\n  top: 0;\r\n  z-index: 11;\r\n  border: 1px solid #e0e0e0;\r\n  box-shadow: 3px 8px 16px rgba(0, 0, 0, 0.18);\r\n  .menu-info-list {\r\n    width: 248px;\r\n    height: 458px;\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    background: #fff;\r\n    a {\r\n      display: flex;\r\n      padding: 18px 20px;\r\n      line-height: 40px;\r\n      color: #333;\r\n      img {\r\n        width: 40px;\r\n        height: 40px;\r\n        margin-right: 12px;\r\n        vertical-align: middle;\r\n      }\r\n\r\n      span {\r\n        width: 172px;\r\n        line-height: 40px;\r\n        font-size: 14px;\r\n        text-align: start;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n      }\r\n\r\n      &:hover {\r\n        span {\r\n          color: #ff6700;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}