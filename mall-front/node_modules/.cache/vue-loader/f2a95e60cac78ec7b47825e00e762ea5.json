{"remainingRequest":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\developer\\mall_sys\\mall-front\\src\\components\\index\\MenuBanner.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\developer\\mall_sys\\mall-front\\src\\components\\index\\MenuBanner.vue","mtime":1615885919000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\developer\\mall_sys\\mall-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQmFubmVyIGZyb20gIi4vQmFubmVyIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBiYW5uZXJNZW51RmxhZzogZmFsc2UsDQogICAgICBtZW51VGltZXI6ICIiLA0KICAgICAgbGlzdEluZm9EYXRhOiBbXSwgICANCiAgICAgIC8vIOS4gOe6p+WIhuexuw0KICAgICAgbWVudXM6IFsNCiAgICAgICAgLy8gew0KICAgICAgICAvLyAgIHZhbHVlOiAi5omL5py6IOeUteivneWNoSIsDQogICAgICAgIC8vICAgdXJsOiAiLyMvc2VhcmNoUmVzdWx0L3MiLA0KICAgICAgICAvLyAgIHR5cGU6ICJwaG9uZSIsDQogICAgICAgIC8vIH0sDQogICAgICBdLA0KICAgICAgYmFubmVyczogWw0KICAgICAgICAvLyB7DQogICAgICAgIC8vICAgc3JjOg0KICAgICAgICAvLyAgICAgImh0dHBzOi8vY2RuLmNuYmoxLmZkcy5hcGkubWktaW1nLmNvbS9taS1tYWxsL2NlZmVkODMzNmJhZTYyNzY4YWZlZWI2YTNiOGY1NWM4LmpwZz93PTI0NTImaD05MjAiLA0KICAgICAgICAvLyAgIHVybDogImh0dHBzOi8vd3d3Lm1pLmNvbS9yZWRtaW5vdGU3LyIsDQogICAgICAgIC8vIH0gDQogICAgICBdLCAgDQogICAgICBwcm9kdWN0czp7DQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogeyANCiAgICBiYW5uZXJNZW51SGlkZSgpIHsNCiAgICAgIHRoaXMubWVudVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMuYmFubmVyTWVudUZsYWcgPSBmYWxzZTsNCiAgICAgIH0sIDMwMCk7DQogICAgfSwNCiAgICBiYW5uZXJNZW51U2hvdyh0eXBlKSB7ICAgLy8yDQogICAgICBpZiAodHlwZSkgew0KICAgICAgICB0aGlzLmxpc3RJbmZvRGF0YSA9IHRoaXMucHJvZHVjdHNbdHlwZV07IA0KICAgICAgfQ0KDQogICAgICB0aGlzLmJhbm5lck1lbnVGbGFnID0gdHJ1ZTsNCiAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1lbnVUaW1lcik7DQogICAgfSwNCiAgICBpbml0KCkgew0KICAgICAgICB0aGlzLmF4aW9zLmdldCgiL2hvbWUvbWVudXNfYmFubmVyIikudGhlbigocmVzKSA9PiB7IA0KICAgICAgICAgIC8vIOWkhOeQhuexu+Weiw0KICAgICAgICAgIGxldCBob21lTWVudXNMaXN0PSByZXMuaG9tZU1lbnVzTGlzdDsNCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvbWVNZW51c0xpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGNvbnN0IGNhdGUgPSBob21lTWVudXNMaXN0W2ldOw0KICAgICAgICAgICAgdGhpcy5tZW51cy5wdXNoKHsNCiAgICAgICAgICAgICAgdmFsdWU6Y2F0ZS5uYW1lLA0KICAgICAgICAgICAgICB0eXBlOmNhdGUuaWQsDQogICAgICAgICAgICAgIHVybDoiLyMvc2VhcmNoUmVzdWx0LyIrY2F0ZS5uYW1lDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8g5aSE55CG5ZWG5ZOBDQogICAgICAgICAgICB0aGlzLnByb2R1Y3RzW2NhdGUuaWRdPSBjYXRlLnByb2R1Y3RMaXN0IA0KICAgICAgICAgIH0NCg0KICAgICAgICAgIC8vIGJhbm5lcg0KICAgICAgICAgIGxldCBob21lQWR2ZXJ0aXNlc0xpc3Q9IHJlcy5ob21lQWR2ZXJ0aXNlc0xpc3Q7DQogICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGhvbWVBZHZlcnRpc2VzTGlzdC5sZW5ndGg7IGluZGV4KyspIHsNCiAgICAgICAgICAgIGNvbnN0IGFkdmVyID0gaG9tZUFkdmVydGlzZXNMaXN0W2luZGV4XTsNCiAgICAgICAgICAgIHRoaXMuYmFubmVycy5wdXNoKHsNCiAgICAgICAgICAgICAgc3JjOmFkdmVyLnBpYywNCiAgICAgICAgICAgICAgdXJsOmFkdmVyLnVybA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIA0KICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICB9KTsNCg0KICAgICAgLy8gdGhpcy5heGlvcy5nZXQoIi9ob21lL2NvbnRlbnQiKS50aGVuKChyZXMpID0+IHsNCiAgICAgIC8vICAgdGhpcy5iYW5uZXJzID0gcmVzLmFkdmVydGlzZUxpc3Q7DQogICAgICAvLyB9KTsNCiAgICB9LA0KICB9LA0KICAvLyDnlJ/lkb3lkajmnJ/pkqnlrZDlh73mlbANCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmluaXQoKTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBtZW51TGlzdE1hdGNoKCkgew0KICAgICAgY29uc3QgbWF0Y2hEYXRhID0gW107DQogICAgICBpZiAodGhpcy5saXN0SW5mb0RhdGEgJiYgdGhpcy5saXN0SW5mb0RhdGEubGVuZ3RoKSB7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0SW5mb0RhdGEubGVuZ3RoOyBpICs9IDYpIHsNCiAgICAgICAgICBtYXRjaERhdGEucHVzaCh0aGlzLmxpc3RJbmZvRGF0YS5zbGljZShpLCBpICsgNikpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gbWF0Y2hEYXRhOw0KICAgICAgDQogICAgfSwNCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIEJhbm5lcjogQmFubmVyLA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["MenuBanner.vue"],"names":[],"mappings":";AA8CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"MenuBanner.vue","sourceRoot":"src/components/index","sourcesContent":["<template>\r\n  <div class=\"menu-banner\">\r\n    <div class=\"menu-container\" @mouseleave=\"bannerMenuHide()\">\r\n      <!-- 循环所有的分类 -->\r\n      <ul class=\"menu-list\">\r\n        <li\r\n          class=\"list-item\"\r\n          v-for=\"(item, index) in menus\"\r\n          :key=\"index\"\r\n          @mouseenter=\"bannerMenuShow(item.type)\"\r\n        >\r\n          <a :href=\"item.url\" target=\"blank\">{{ item.value }}</a>\r\n          <i class=\"fa fa-angle-right\"></i>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div\r\n      class=\"menu-info\"\r\n      v-show=\"bannerMenuFlag\"\r\n      @mouseleave=\"bannerMenuHide()\"\r\n      @mouseenter=\"bannerMenuShow()\"\r\n    >\r\n      <ul\r\n        class=\"menu-info-list\"\r\n        v-for=\"(list, key) in menuListMatch\"\r\n        :key=\"key\"\r\n        :data-key=\"key\"\r\n      >\r\n        <li\r\n          class=\"info-list-item\"\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"index\"\r\n          :data-index=\"index\"\r\n        >\r\n          <a :href=\"'/#/detail/'+item.id\">\r\n            <img :src=\"item.pic\" :alt=\"item.name\" />\r\n            <span class=\"\">{{ item.name }}</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <banner :banners=\"banners\"></banner>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Banner from \"./Banner\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      bannerMenuFlag: false,\r\n      menuTimer: \"\",\r\n      listInfoData: [],   \r\n      // 一级分类\r\n      menus: [\r\n        // {\r\n        //   value: \"手机 电话卡\",\r\n        //   url: \"/#/searchResult/s\",\r\n        //   type: \"phone\",\r\n        // },\r\n      ],\r\n      banners: [\r\n        // {\r\n        //   src:\r\n        //     \"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/cefed8336bae62768afeeb6a3b8f55c8.jpg?w=2452&h=920\",\r\n        //   url: \"https://www.mi.com/redminote7/\",\r\n        // } \r\n      ],  \r\n      products:{\r\n      }\r\n    };\r\n  },\r\n  methods: { \r\n    bannerMenuHide() {\r\n      this.menuTimer = setTimeout(() => {\r\n        this.bannerMenuFlag = false;\r\n      }, 300);\r\n    },\r\n    bannerMenuShow(type) {   //2\r\n      if (type) {\r\n        this.listInfoData = this.products[type]; \r\n      }\r\n\r\n      this.bannerMenuFlag = true;\r\n      clearTimeout(this.menuTimer);\r\n    },\r\n    init() {\r\n        this.axios.get(\"/home/menus_banner\").then((res) => { \r\n          // 处理类型\r\n          let homeMenusList= res.homeMenusList;\r\n          for (let i = 0; i < homeMenusList.length; i++) {\r\n            const cate = homeMenusList[i];\r\n            this.menus.push({\r\n              value:cate.name,\r\n              type:cate.id,\r\n              url:\"/#/searchResult/\"+cate.name\r\n            });\r\n            \r\n            // 处理商品\r\n            this.products[cate.id]= cate.productList \r\n          }\r\n\r\n          // banner\r\n          let homeAdvertisesList= res.homeAdvertisesList;\r\n          for (let index = 0; index < homeAdvertisesList.length; index++) {\r\n            const adver = homeAdvertisesList[index];\r\n            this.banners.push({\r\n              src:adver.pic,\r\n              url:adver.url\r\n            })\r\n            \r\n          }\r\n          \r\n       });\r\n\r\n      // this.axios.get(\"/home/content\").then((res) => {\r\n      //   this.banners = res.advertiseList;\r\n      // });\r\n    },\r\n  },\r\n  // 生命周期钩子函数\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  computed: {\r\n    menuListMatch() {\r\n      const matchData = [];\r\n      if (this.listInfoData && this.listInfoData.length) {\r\n        for (let i = 0; i < this.listInfoData.length; i += 6) {\r\n          matchData.push(this.listInfoData.slice(i, i + 6));\r\n        }\r\n      }\r\n      return matchData;\r\n      \r\n    },\r\n  },\r\n  components: {\r\n    Banner: Banner,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.menu-banner {\r\n  position: relative;\r\n  width: 1226px;\r\n  height: auto;\r\n  margin: 0 auto;\r\n  .menu-container {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 235px;\r\n    height: auto;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    z-index: 10;\r\n  }\r\n}\r\n\r\n.menu-list {\r\n  padding: 20px 0;\r\n  height: 420px;\r\n  .list-item {\r\n    display: flex;\r\n    padding-left: 30px;\r\n    &:hover {\r\n      background-color: #ff6700;\r\n    }\r\n\r\n    a {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 170px;\r\n      height: 42px;\r\n      line-height: 42px;\r\n      color: #fff;\r\n      text-align: left;\r\n      background-color: transparent;\r\n    }\r\n\r\n    i {\r\n      font-size: 22px;\r\n      color: #e0e0e0;\r\n      line-height: 42px;\r\n    }\r\n  }\r\n}\r\n\r\n.menu-info {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: flex-start;\r\n  left: 235px;\r\n  top: 0;\r\n  z-index: 11;\r\n  border: 1px solid #e0e0e0;\r\n  box-shadow: 3px 8px 16px rgba(0, 0, 0, 0.18);\r\n  .menu-info-list {\r\n    width: 248px;\r\n    height: 458px;\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    background: #fff;\r\n    a {\r\n      display: flex;\r\n      padding: 18px 20px;\r\n      line-height: 40px;\r\n      color: #333;\r\n      img {\r\n        width: 40px;\r\n        height: 40px;\r\n        margin-right: 12px;\r\n        vertical-align: middle;\r\n      }\r\n\r\n      span {\r\n        width: 172px;\r\n        line-height: 40px;\r\n        font-size: 14px;\r\n        text-align: start;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n      }\r\n\r\n      &:hover {\r\n        span {\r\n          color: #ff6700;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}